<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0014)about:internet -->
<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8">
		<meta name="generator" content="WICKIE">
		<title>灯光：坐标</title>
		<meta name="FORMATTER" content="wickie">
		<link href="../../files/wickie.css" type="text/css" rel="stylesheet" media="all">
		<script type="text/javascript" src="../../files/versionAppender.js"> </script>
		<script type="text/javascript" src="../../files/linkRewriter.js"> </script> 
		<!--PAGE_ID "3911"-->
		<!--VATER_ID "3909"-->
		<!--REIHENFOLGE "2"-->
		<!--TITLE "灯光：坐标"-->
		<!--APPS "11 16 17 10 14 15"-->
		<!--TYP "GROUP"-->
	</head>

<body bgcolor="#e0e0e0" link="black" vlink="#2a2a2a">


<!--NO_SEARCH_START-->
<span class="link_back"><a href="43666.html" target="_self">参考</a></span> <span class="link_back"><a href="43668.html" target="_self">Cinema 4D</a></span> <span class="link_back"><a href="1001.html" target="_self">Cinema 4D Prime</a></span> <span class="link_back"><a href="5177.html" target="_self">创建菜单</a></span> <span class="link_back"><a href="OLIGHT.html" target="_self">灯光</a></span>

<div class="in-lite-page in-prime-page in-visualize-page in-broadcast-page in-studio-page in-bodypaint3d-page ">  <div class="page_only_body">
<div class="page_only_apps">             Function available in CINEMA 4D Prime, Visualize, Broadcast, Studio & BodyPaint 3D  </div>
<img class="icon" src="../icons/OLIGHT.png" alt="" height="24" width="24" border="1"> <span class="HL_atom"><a href="OLIGHT.html">灯光</a> </span><p></p>
<a href="OLIGHT-OBASELIST.html" target=""><span class="c4d_group_navi">基本</span></a> 
<a href="OLIGHT-ID_BASEOBJECT_GROUP1.html" target=""><span class="c4d_group_navi_self">坐标</span></a> 
<a href="OLIGHT-LIGHT_GROUP_GENERAL.html" target=""><span class="c4d_group_navi">常规</span></a> 
<a href="OLIGHT-LIGHT_GROUP_DETAILS.html" target=""><span class="c4d_group_navi">细节</span></a> 
<a href="OLIGHT-LIGHT_GROUP_VISIBILITY.html" target=""><span class="c4d_group_navi">可见</span></a> 
<a href="OLIGHT-LIGHT_GROUP_SHADOW.html" target=""><span class="c4d_group_navi">投影</span></a> 
<a href="OLIGHT-LIGHT_GROUP_PHOTOMETRIC.html" target=""><span class="c4d_group_navi">光度</span></a> 
<a href="OLIGHT-LIGHT_GROUP_CAUSTICS.html" target=""><span class="c4d_group_navi">焦散</span></a> 
<a href="OLIGHT-LIGHT_GROUP_NOISE.html" target=""><span class="c4d_group_navi">噪波</span></a> 
<a href="OLIGHT-LIGHT_GROUP_LENSEFFECTS.html" target=""><span class="c4d_group_navi">镜头光晕</span></a> 
<a href="OLIGHT-LIGHT_GROUP_EXCLUSION.html" target=""><span class="c4d_group_navi">工程</span></a>
<!--NO_SEARCH_END--><p class="c4d_group"><span>坐标</span></p><p></p>
<p><a id="ID_BASEOBJECT_REL_POSITION" name="ID_BASEOBJECT_REL_POSITION"></a> <!--INDEX "8","P","ID_BASEOBJECT_REL_POSITION"--><span class="c4d_id">P</span> <span class="range">[XYZ m]</span></p>
<p>这个数值表示对象相对世界坐标系的位置。如果对象有层级关系，则是相对父坐标系（参见<a href="5742.html" target="">坐标管理器</a>）。</p>
<p><a id="ID_BASEOBJECT_REL_SCALE" name="ID_BASEOBJECT_REL_SCALE"></a> <!--INDEX "8","S","ID_BASEOBJECT_REL_SCALE"--><span class="c4d_id">S</span> <span class="range">[XYZ]</span></p>
<p>这个数值表示对象相对世界坐标系的缩放比例。如果对象有层级关系，则是相对父坐标系（参见<a href="5742.html" target="">坐标管理器</a>）。</p>
<p>用这里的数值修改对象的比例相当于在<span class="command">使用对象坐标系</span>模式下进行缩放，这意味着对象的坐标系也会改变（参见<a href="5494.html#unterschiedobjektmodell" target="">使用模型工具模式和对象工具模式的区别</a>）。</p>
<p><a id="ID_BASEOBJECT_REL_ROTATION" name="ID_BASEOBJECT_REL_ROTATION"></a> <!--INDEX "8","R","ID_BASEOBJECT_REL_ROTATION"--><span class="c4d_id">R</span> <span class="range">[HPB °]</span></p>
<p>这个数值表示对象相对世界坐标系的旋转角度。如果对象有层级关系，则是相对父坐标系（参见<a href="5742.html" target="">坐标管理器</a>）。</p>
<p><a id="ID_BASEOBJECT_ROTATION_ORDER" name="ID_BASEOBJECT_ROTATION_ORDER"></a> <!--INDEX "8","顺序","ID_BASEOBJECT_ROTATION_ORDER"--><span class="c4d_id">顺序</span></p>
<p>这个下拉菜单的选项只在动画中有用，这些选项能减弱“万向节锁”效应。</p>
<p>让我们看看下面示例中的问题：</p>
<p><div class="image_full" style="max-width:1406px"><img  src="../pics/03xxxx/031350.jpg"  ><span class="caption"></span></div></p>
<p> </p>
<p>这里有带有复杂层级关系的动画角色。假设你想要在正视图中做一段左臂向下旋转的动画，因此我们要在指尖朝上和朝下的位置设置关键帧。如果现在从顶视图播放动画，除了我们期望的向下运动之外，手臂还会轻微的转向（上图的右上角）。这就是“万向节锁”效应。这个示例里面效果不太明显，但是在极端情况下，它会让动画变得很不正常，形成螺旋形的运动。</p>
<p>如何设置正确的旋转顺序来减弱这种效应？你需要在制作动画之前观察关节坐标轴，看看哪个轴预计旋转的角度最小。在上面的示例中，是图左中标记的 X 轴。现在选择一个 X 轴位于第二位的<span class="command">顺序</span>选项，虽然仍然会出现轻微的抖动，但是结果比之前要好得多。</p>
<p>另一个能帮助决定旋转顺序的是<a href="TOOLROTATE-MDATA_OBJECTAXIS_GROUP.html#MDATA_AXIS_GIMBALROTATION" target="_self"><span class="text_id">万向旋转</span></a>选项，启用这个选项然后使用<span class="command">旋转</span>工具：</p>
<p><div class="image_full" style="max-width:1675px"><img  src="../pics/03xxxx/031351.jpg"  ><span class="caption">
	图左中<span class="command">顺序</span>设为<span class="command_value">HPB</span>，图右为<span class="command_value">XYZ</span>。</span></div></p>
<p>使用旋转带你可以直接看到（制作动画前）计划的动作是否会按预计的方向运动。在上图左边可以看到，红色、绿色和蓝色旋转带的位置很明显没法按红色箭头方向进行旋转（没有旋转带位于旋转平面上）。这样制作的动画就会出现万向节锁的问题。</p>
<p>选择不同的<span class="command">顺序</span>选项，直到旋转带正好位于或接近旋转平面（上图中的蓝色旋转带），这时创建的动画中出现万向节锁的问题就比较小了：</p>
<p>通常，如果将顺序中第二个参数（下图中标记的参数）设置为 90°（或 270°）左右的数值，容易出现上面的问题：</p>
<p><div class="image_full" style="max-width:176px"><img  src="../pics/03xxxx/031352.jpg"  ><span class="caption"></span></div></p>
<p> </p>
<p>最好将其对应的旋转角度设为<span class="command_value">0°</span>。</p>
<p>另外，还可以建立一个空父对象，通过对这个父对象制作动画来避免这个问题。</p>
<p>页面下方的冻结变换也会有所帮助。</p>
<p><!--INDEX "6","四元","ID_BASEOBJECT_QUATERNION_ROTATION"--><a id="ID_BASEOBJECT_QUATERNION_ROTATION" name="ID_BASEOBJECT_QUATERNION_ROTATION"></a><p class="c4d_subgroup"><img src="../../files/subgroup.gif" alt="" width="7" height="4" border="0">&nbsp;<span>四元</span></p>
<p><a id="ID_BASEOBJECT_QUATERNION_ROTATION_INTERPOLATION" name="ID_BASEOBJECT_QUATERNION_ROTATION_INTERPOLATION"></a> <!--AM_JUMP "ID_BASEOBJECT_QUATERNION_ROTATION_INTERPOLATION","ID_BASEOBJECT_QUATERNION_ROTATION","ID_BASEOBJECT_GROUP1"--><!--INDEX "8","四元旋转","ID_BASEOBJECT_QUATERNION_ROTATION_INTERPOLATION"--><span class="c4d_id">四元旋转</span></p>
<p><p><div class="hint"><span class="HL_hint">提示：<br></span>
	四元标签（只有加载 R18 之前版本的场景时会出现，并且不能再创建新的标签）的功能没有被继承到对象属性中。</div></p>
<p><a id="hl_1" name="hl_1"></a><!--INDEX "3","概述","hl_1"--><p><span class="HL_3">概述</span></p>
<p>
	Surely you’ve heard of the feared <span class="command">万向节锁</span> in conjunction with character animation, for example - or have even experienced it personally!</p>
<p>万向节锁 occurs when the rotational value has <span class="command">P</span> +/- 90°, at which point heading <span class="command">H</span> and banking <span class="command">B</span> have the same effect. The result is that one of these dimensions is lost altogether and large rotational jumps occur even with the smallest of rotations.</p>
<p>四元功能只对制作旋转动画有用。</p>
<p>默认情况下，CINEMA 4D 使用<span class="command">欧拉旋转</span>对物体的旋转进行插值（欧拉旋转：在欧几里得空间（直角）中对离散旋转（HPB）使用陀螺系统。）</p>
<p>
	The Euler rotation’s individual components are interpolated individually, which means that the mean value from HPB (0, 0, 0) and HPB (60, 60, 60) would, for example, be HPB (30, 30, 30). The fact that a swing from 0, 0, 0 over 30, 30, 30 to 60, 60, 60 is not necessarily the shortest path can be tested in the Viewport.</p>
<p>What is needed is an interpolation that takes the shortest path from A to B, which is also what the user would do if the path had to be animated manually.</p>
<p>This is exactly what Quaternions do. A Quaternion will take the path from 0, 0, 0 to 60, 60, 60 via 35.104 °, 22.83 °, 35.104 °.</p>
<p>The Quaternion creates no unnecessary motion and thus avoids <span class="command">万向节锁</span>.</p>
<p>You might wonder why a Quaternion animation is not in principle applied to all objects. The reason is that Quaternion interpolation also bears disadvantages. The Quaternion works fine as long as the change in rotation is less than 180°. Beyond this, problems can occur due to the fact that the Quaternion will always look for the shortest possible path.</p>
<p><p><div class="hint"><span class="HL_hint">提示：<br></span>
	The shortest path for a Quaternion Expression is always on a 3D sphere. This can be imagined as a rotation by the Quaternion interpolation around a fixed axis - the axis around which it can rotate with the smallest possible rotation. As a rule, this has nothing to do with the object axes and is different for each rotation.</div></p>
<p><a id="hl_2" name="hl_2"></a><!--INDEX "3","示例","hl_2"--><p><span class="HL_3">示例</span></p>
<p>Take a look at the following example:</p>
<p><div class="image_full" style="max-width:956px"><img  src="../pics/04xxxx/040396.jpg"  ><span class="caption"></span></div></p>
<p><ol><br><li> An object needs to be rotated more than 180° around a given axis.<br><li> A keyframe is set for the initial state, the Timeslider is moved to the frame at which the rotation will end and the object is rotated and the motion is set with keyframes. So far so good.<br>Regardless of whether or not the Quaternion function is used, nothing will change for the initial and final states. The Quaternion interpolation will only use a different method for reaching the same goal.<br><li> First, let’s look at the traditional 欧拉旋转 method in Cinema 4D:<br>An object was rotated using keyframes (e.g., <span class="command">B</span> (bank) rotated 220°, which rotates the objects clockwise by 220°):<br><li> Now for the Quaternion method. As was already stated, this interpolation method will always look for the shortest possible path to the final state. The shortest path in this example, however, is not (from the viewer’s angle of view) the clockwise rotation of 220° but a rotation of 140° in the exact opposite direction.<br></ol><p></p>
<p>Enabling the <span class="command">四元旋转</span> option activates the Quaternion animation for that object (the keyframe values will be identical Euler values and only the interpolation between the values will change accordingly). If this option is disabled, the Euler animation method will be used.</p>
<p>Note that Quaternion interpolation only works on local rotation tracks and not on frozen coordinates (see <a href="OPOLYGON-ID_BASEOBJECT_GROUP1.html#ID_BASEOBJECT_FREEZE" target="_self"><span class="text_id">冻结全部</span></a>).</p>
<p>A separate <a href="CKVALUE-ID_VKEY_PROPERTIES.html#ID_CKEY_QUAT_INTER" target="_self"><span class="text_id">Quaternion Interpolation</span></a> option is available in the keyframe properties that can be used to affect the interpolation temporally.</p>
<p>The following differences to Euler animations will result:<ul></p>
<p><li> In the Timeline, the names of the rotation tracks will be supplemented by a <span class="command_value">(Q)</span>, i.e., <span class="command_value">Rotation.P (Q)</span></li><li> In the Timeline, the three rotation tracks (Rotation.H/P/B) will be seen as a single unit, i.e., if one keyframe is moved to a different location in the animation (or created/deleted), the others will follow</li><li> Keyframe tangents are not supported by Quaternions</li><li> The display of Quaternions as FCurves is often not feasible from a technical point of view (especially for animations greater than 180° between two keyframes) and therefore bears little importance</li></ul><p></p>
<p><a id="hl_3" name="hl_3"></a><!--INDEX "3","应该在什么时候使用四元动画？","hl_3"--><p><span class="HL_3">应该在什么时候使用四元动画？</span></p>
<p>Quaternion animations should be used if:<ul></p>
<p><li> you have problems with 万向节锁 and jumping axes.</li></ul><p></p>
<p>Quaternion animations should not be used if:<ul></p>
<p><li> the difference in rotation between 2 keyframes exceeds 180° (the rotation will be made along the shortest path)</li><li> you want to fine-tune FCurves (i.e., modify timing)</li></ul><p></p>
<p><!--INDEX "6","冻结变换","ID_BASEOBJECT_FROZEN_COORDS"--><a id="ID_BASEOBJECT_FROZEN_COORDS" name="ID_BASEOBJECT_FROZEN_COORDS"></a><p class="c4d_subgroup"><img src="../../files/subgroup.gif" alt="" width="7" height="4" border="0">&nbsp;<span>冻结变换</span></p>
<p><a id="ID_BASEOBJECT_FREEZE" name="ID_BASEOBJECT_FREEZE"></a> <!--AM_JUMP "ID_BASEOBJECT_FREEZE","ID_BASEOBJECT_FROZEN_COORDS","ID_BASEOBJECT_GROUP1"--><!--INDEX "8","冻结全部","ID_BASEOBJECT_FREEZE"--><span class="c4d_id">冻结全部</span></p>
<p>This function will primarily be used for animations only.</p>
<p>In 3D, the freezing of objects is also referred to as "zeroing out" (or also "dual transformation") because the local coordinates Position and Rotation will each be set to <span class="command_value">0</span> and Scale to <span class="command_value">1</span> without changing the object’s position or orientation (in the following we will only refer to Position and Rotation). The same is achieved when you create a Null Object, position and orient it exactly as the object and make the object a Child object of the Null Object. This is the method that was used prior to R12 as a workaround.</p>
<p>You can picture the freezing of objects as follows: Internally, a Null Object with the coordinates of the selected object will be created. These coordinates will be copied to the <span class="command">冻结变换</span> tab and will function as an offset to the null coordinates, i.e., any modifications made to the primary coordinates will be taken into account by the frozen coordinates.</p>
<p>So what can this be used for? To explain we have to begin with the basics:</p>
<p><div class="image_full" style="max-width:619px"><img  src="../pics/03xxxx/030745.jpg"  ><span class="caption"></span></div></p>
<p>This scene contains two objects: Arm 2 has the local coodinates shown in the image above and is a Child object of Arm 1. The coordinates shown in the <span class="command">Attribute Manager</span> are always local coordinates (they reflect the coordinate system of the Parent object in the hierarchy). So far so good.</p>
<p>We now want to animate Arm 2 so it rotates 45° around the X axis. Normally we would rotate the object using the rotation bands and set two keyframes:</p>
<p><div class="image_full" style="max-width:1249px"><img  src="../pics/03xxxx/030746.jpg"  ><span class="caption"></span></div></p>
<p>The result can be seen at the center of the image above. Even though the rotation took place around a single axis all three axes were modified. This is due to the fact that the Parent object’s coordinate system (Arm 1) has a different orientation from the local coordinates. Often, this behavior cannot be avoided. And in the Timeline, three F-Curves, that may have to be modified, don’t make things any easier. In addition, our example also suffers from animation 万向节锁 (see <a href="OCUBE-ID_BASEOBJECT_GROUP1.html#ID_BASEOBJECT_Quaternion_ROTATION_INTERPOLATION" target="_self"><span class="text_id">四元旋转</span></a>), which results in a subsequent rotation of the arm.</p>
<p>All of these adverse effects can be avoided by freezing the transformation PRIOR to animating. This will copy the Position, Scale and Rotation values to the subordinate values of the same name and set the initial values back to <span class="command_value">0</span> and <span class="command_value">1</span>, respectively.</p>
<p>This bears the following advantages:<ul></p>
<p><li> Coordinate values that are awry will be zeroed out, which lets them be easily set back to their initial values. It is also easier to control parameters such as rotation via XPresso or sliders.</li><li> All animation F-Curves start at <span class="command_value">0</span>.</li><li> 万向节锁 can be prevented for one-dimensional rotations.</li></ul><p></p>
<p>The <span class="command">冻结全部</span> command will freeze all coordinates (Position, Scale, Rotation), i.e., all primary coordinates will be set to <span class="command_value">0</span>.</p>
<p><p><div class="hint"><span class="HL_hint">提示：<br></span>
	The <span class="command">冻结变换</span> command (<span class="command">Tools / Coordinates</span> menu) does the same for all selected objects.</div></p>
<p> </p>
<p></p>
<p><a id="ID_BASEOBJECT_FROZEN_RESET" name="ID_BASEOBJECT_FROZEN_RESET"></a> <!--AM_JUMP "ID_BASEOBJECT_FROZEN_RESET","ID_BASEOBJECT_FROZEN_COORDS","ID_BASEOBJECT_GROUP1"--><!--INDEX "8","解冻全部","ID_BASEOBJECT_FROZEN_RESET"--><span class="c4d_id">解冻全部</span></p>
<p>The main coordinates will be offset with the frozen coordinates. Subsequently all frozen coordinates will be reset to <span class="command_value">0</span>.</p>
<p><p><div class="hint"><span class="HL_hint">提示：<br></span>
	This can be done for all objects using a separate command (main menu: Tools / Coordinates / Unfreeze Transformation).</div></p>
<p><a id="ID_BASEOBJECT_FROZEN_POSITION" name="ID_BASEOBJECT_FROZEN_POSITION"></a> <!--AM_JUMP "ID_BASEOBJECT_FROZEN_POSITION","ID_BASEOBJECT_FROZEN_COORDS","ID_BASEOBJECT_GROUP1"--><!--INDEX "8","P","ID_BASEOBJECT_FROZEN_POSITION"--><span class="c4d_id">P</span> <span class="range">[XYZ m]</span><br>
<a id="ID_BASEOBJECT_FROZEN_SCALE" name="ID_BASEOBJECT_FROZEN_SCALE"></a> <!--AM_JUMP "ID_BASEOBJECT_FROZEN_SCALE","ID_BASEOBJECT_FROZEN_COORDS","ID_BASEOBJECT_GROUP1"--><!--INDEX "8","S","ID_BASEOBJECT_FROZEN_SCALE"--><span class="c4d_id">S</span> <span class="range">[XYZ]</span><br>
<a id="ID_BASEOBJECT_FROZEN_ROTATION" name="ID_BASEOBJECT_FROZEN_ROTATION"></a> <!--AM_JUMP "ID_BASEOBJECT_FROZEN_ROTATION","ID_BASEOBJECT_FROZEN_COORDS","ID_BASEOBJECT_GROUP1"--><!--INDEX "8","R","ID_BASEOBJECT_FROZEN_ROTATION"--><span class="c4d_id">R</span> <span class="range">[HPB °]</span></p>
<p>These are the frozen coordinates that are taken over from the parent hierarchy.</p>
<p><p><div class="hint"><span class="HL_hint">提示：<br></span>
	The values for these frozen coordinates can be found in the XPresso Editor (Coordinates / Frozen Transformation) in the Input and Output Port menus. These coordinates can be modified here after being frozen, whereby the primary coordinates will remain set to <span class="command_value">0</span>.</div></p>
<p><a id="ID_BASEOBJECT_FREEZE_P" name="ID_BASEOBJECT_FREEZE_P"></a> <!--AM_JUMP "ID_BASEOBJECT_FREEZE_P","ID_BASEOBJECT_FROZEN_COORDS","ID_BASEOBJECT_GROUP1"--><!--INDEX "8","冻结 P","ID_BASEOBJECT_FREEZE_P"--><span class="c4d_id">冻结 P</span><br>
<a id="ID_BASEOBJECT_FREEZE_S" name="ID_BASEOBJECT_FREEZE_S"></a> <!--AM_JUMP "ID_BASEOBJECT_FREEZE_S","ID_BASEOBJECT_FROZEN_COORDS","ID_BASEOBJECT_GROUP1"--><!--INDEX "8","冻结 S","ID_BASEOBJECT_FREEZE_S"--><span class="c4d_id">冻结 S</span><br>
<a id="ID_BASEOBJECT_FREEZE_R" name="ID_BASEOBJECT_FREEZE_R"></a> <!--AM_JUMP "ID_BASEOBJECT_FREEZE_R","ID_BASEOBJECT_FROZEN_COORDS","ID_BASEOBJECT_GROUP1"--><!--INDEX "8","冻结 R","ID_BASEOBJECT_FREEZE_R"--><span class="c4d_id">冻结 R</span></p>
<p>These buttons can each be used to individually freeze the three primary coordinates:<ul></p>
<p><li> Position</li>
<li> Scale</li>
<li> Rotation</li></ul><p></p>
<p><p><div class="hint"><span class="HL_hint">注意：<br></span>
	Note that the frozen position coordinates can be modified as a result of freezing the rotation values, which is a normal effect. For example, if a Child object is rotated (comparable to freezing), the position of the Child object must change accordingly if it is to stay in the same relative position.</div></p>
<p>

</p>
  </div>  </div>
</body>

</html>