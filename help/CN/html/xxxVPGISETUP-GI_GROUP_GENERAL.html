<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0014)about:internet -->
<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8">
		<meta name="generator" content="WICKIE">
		<title>全局光照设置：常规</title>
		<meta name="FORMATTER" content="wickie">
		<link href="../../files/wickie.css" type="text/css" rel="stylesheet" media="all">
		<script type="text/javascript" src="../../files/versionAppender.js"> </script>
		<script type="text/javascript" src="../../files/linkRewriter.js"> </script> 
		<!--PAGE_ID "32076"-->
		<!--VATER_ID "32075"-->
		<!--REIHENFOLGE "1"-->
		<!--TITLE "全局光照设置：常规"-->
		<!--APPS "16 14 15 10 11"-->
		<!--TYP "GROUP"-->
	</head>

<body bgcolor="#e0e0e0" link="black" vlink="#2a2a2a">


<!--NO_SEARCH_START-->
<span class="link_back"><a href="1001.html" target="_self">CINEMA 4D Prime</a></span> <span class="link_back"><a href="5697.html" target="_self">渲染菜单</a></span> <span class="link_back"><a href="DRENDERSETTINGS.html" target="_self">编辑渲染设置</a></span> <span class="link_back"><a href="32219.html" target="_self">全局光照</a></span> <span class="link_back"><a href="VPGISETUP.html" target="_self">全局光照设置</a></span>

<div class="in-prime-page in-visualize-page in-broadcast-page in-studio-page in-bodypaint3d-page ">  <div class="page_only_body">
<div class="page_only_apps">             Function available in CINEMA 4D Prime, Visualize, Broadcast, Studio & BodyPaint 3D  </div>
<span class="HL_atom"><a href="VPGISETUP.html">全局光照设置</a> </span><p></p><a href="VPGISETUP-GI_GROUP_GENERAL.html" target=""><span class="c4d_group_navi_self">常规</span></a> <a href="VPGISETUP-GI_GROUP_IC2.html" target=""><span class="c4d_group_navi">辐照缓存</span></a> <a href="VPGISETUP-GI_GROUP_IRRADIANCE.html" target=""><span class="c4d_group_navi">辐照缓存（传统）</span></a> <a href="VPGISETUP-GI_GROUP_RADIANCE.html" target=""><span class="c4d_group_navi">辐射贴图</span></a> <a href="VPGISETUP-GI_GROUP_LIGHT_MAPPING.html" target=""><span class="c4d_group_navi">光线映射</span></a> <a href="VPGISETUP-GI_GROUP_CACHES.html" target=""><span class="c4d_group_navi">缓存文件</span></a> <a href="VPGISETUP-GI_GROUP_OPTIONS.html" target=""><span class="c4d_group_navi">选项</span></a><!--NO_SEARCH_END--><p class="c4d_group"><span>常规</span></p><p></p>
<p><RELEASE_150 New GI presets that can be defined for a specific type of Project lighting.></p>
<p><a id="GI_SETUP_DATA_PRESETS" name="GI_SETUP_DATA_PRESETS"></a> <!--INDEX "8","预设","GI_SETUP_DATA_PRESETS"--><span class="c4d_id">预设</span></p>
<p>因为有许多可能的全局光照反弹算法的组合，为给定的工程类型保存一组设置可以有效加快工作流程，因此可以使用预设选项来为指定的工程类型保存全局光照设置。</p>
<p>这时，要知道你的工程是如何设置的。你应该区分两种主要类型：<ul></p>
<p><li> <span class="command">室内空间</span>主要是由少数小光源照亮的：通过窗户摄入的光线以及在一定范围内发射光线的灯光，因此室内空间对于全局光照来说计算比较苦难。</li>
<li> <span class="command">室外空间</span>是主要设置在开放环境中的工程。天空从一个巨大的表面上均匀地发射光线，这让全局光照易于计算。</li></ul><p></p>
<p>这些预设应该只作为起始点来使用。这些设置可以在之后进行进行调整来优化渲染质量和渲染时间。更多的细节可以在各个选项的描述中找到。你还可以参考<a href="52453.html" target="">渲染示例</a>，它演示了各种全局光照设置组合的效果。</p>
<p>你可以偶尔尝试不常用的算法组合，你可能会发现一些在特定场景中比预设更好的组合。</p>
<p><a id="GI_SETUP_PRESET_CUSTOM" name="GI_SETUP_PRESET_CUSTOM"></a><!--INDEX "10","自定义","GI_SETUP_PRESET_CUSTOM"--><span class="c4d_id_cycle">自定义</span></p>
<p>当你修改了一项全局光照设置，这个选项会被激活。</p>
<p><a id="GI_SETUP_PRESET_DEFAULT" name="GI_SETUP_PRESET_DEFAULT"></a><!--INDEX "10","默认","GI_SETUP_PRESET_DEFAULT"--><span class="c4d_id_cycle">默认</span>（辐照缓存）</p>
<p>辐照缓存：漫射深度为1，这是最快的全局光照算法。</p>
<p><a id="hl_1" name="hl_1"></a><!--INDEX "3","室内空间","hl_1"--><p><span class="HL_2">室内空间</span></p>
<p><a id="GI_SETUP_PRESET_INTERIOR_PREVIEW" name="GI_SETUP_PRESET_INTERIOR_PREVIEW"></a><!--INDEX "10","室内 - 预览","GI_SETUP_PRESET_INTERIOR_PREVIEW"--><span class="c4d_id_cycle">室内 - 预览</span></p>
<p>辐照缓存 + 辐射贴图：降低漫射深度的快速预览。</p>
<p><a id="GI_SETUP_PRESET_INTERIOR_PREVIEW_DIFFUSE" name="GI_SETUP_PRESET_INTERIOR_PREVIEW_DIFFUSE"></a><!--INDEX "10","室内 - 预览（高清漫射深度）","GI_SETUP_PRESET_INTERIOR_PREVIEW_DIFFUSE"--><span class="c4d_id_cycle">室内 - 预览（高清漫射深度）</span></p>
<p>辐照缓存 + 光线映射。</p>
<p><a id="GI_SETUP_PRESET_INTERIOR_PREVIEW_AREA" name="GI_SETUP_PRESET_INTERIOR_PREVIEW_AREA"></a><!--INDEX "10","室内 - 预览（小型光源）","GI_SETUP_PRESET_INTERIOR_PREVIEW_AREA"--><span class="c4d_id_cycle">室内 - 预览（小型光源）</span></p>
<p>辐照缓存 + 光线映射。</p>
<p><a id="GI_SETUP_PRESET_INTERIOR_HIGH" name="GI_SETUP_PRESET_INTERIOR_HIGH"></a><!--INDEX "10","室内 - 高品质","GI_SETUP_PRESET_INTERIOR_HIGH"--><span class="c4d_id_cycle">室内 - 高品质</span></p>
<p>辐照缓存 + 辐照缓存。</p>
<p><a id="GI_SETUP_PRESET_INTERIOR_HIGH_DIFFUSE" name="GI_SETUP_PRESET_INTERIOR_HIGH_DIFFUSE"></a><!--INDEX "10","室内 - 高品质（高清漫射深度）","GI_SETUP_PRESET_INTERIOR_HIGH_DIFFUSE"--><span class="c4d_id_cycle">室内 - 高品质（高清漫射深度）</span></p>
<p>辐照缓存 + 光线映射。</p>
<p><a id="GI_SETUP_PRESET_INTERIOR_HIGH_AREA" name="GI_SETUP_PRESET_INTERIOR_HIGH_AREA"></a><!--INDEX "10","室内 - 高品质（小型光源）","GI_SETUP_PRESET_INTERIOR_HIGH_AREA"--><span class="c4d_id_cycle">室内 - 高品质（小型光源）</span></p>
<p>辐照缓存 + 光线映射。</p>
<p>下面的信息对<span class="command">室内</span>预设很重要：<ul></p>
<p><li> <span class="command">预览</span>：该设置的参数会被调低，因此会计算速度很快，适合测试渲染。</li>
<li> <span class="command">高品质</span>：该设置用来进行高质量的渲染，但它可能需要对单独的参数进行增减来达到理想的渲染速度/质量。</li>
<li> <span class="command">高清漫射深度</span>：该设置适用于大量光线反射的场景，它会用无穷高的“采样深度”来产生非常真实的效果，这时场景会被渲染得更为明亮，暗角也会被照亮。这种效果是与<a href="VPGISETUP-GI_GROUP_LIGHT_MAPPING.html" target="">光线映射</a>一同创建的。</li>
<li> <span class="command">小型光源</span>：工程的光照主要由设定为<a href="32221.html" target="">GI 入口和多边形灯光</a>的小型光源提供。辐照缓存+光线映射与<a href="VPGISETUP-GI_GROUP_GENERAL.html#GI_SETUP_DATA_QMC_AREA_FORCE" target="_self"><span class="text_id">强制每像素</span></a>搭配使用是保障小型光源释放其潜力的最佳设置。</li></ul><p></p>
<p><a id="hl_2" name="hl_2"></a><!--INDEX "3","室外空间","hl_2"--><p><span class="HL_2">室外空间</span></p>
<p><a id="GI_SETUP_PRESET_EXTERIOR_PREVIEW" name="GI_SETUP_PRESET_EXTERIOR_PREVIEW"></a><!--INDEX "10","室外 - 预览","GI_SETUP_PRESET_EXTERIOR_PREVIEW"--><span class="c4d_id_cycle">室外 - 预览</span></p>
<p>辐照缓存 + 辐射贴图：降低漫射深度的快速预览。</p>
<p><a id="GI_SETUP_PRESET_EXTERIOR_SKY" name="GI_SETUP_PRESET_EXTERIOR_SKY"></a><!--INDEX "10","室外 - 物理天空","GI_SETUP_PRESET_EXTERIOR_SKY"--><span class="c4d_id_cycle">室外 - 物理天空</span></p>
<p>辐照缓存 + 准蒙特卡洛。</p>
<p><a id="GI_SETUP_PRESET_EXTERIOR_HDR" name="GI_SETUP_PRESET_EXTERIOR_HDR"></a><!--INDEX "10","室外 - HDR图像","GI_SETUP_PRESET_EXTERIOR_HDR"--><span class="c4d_id_cycle">室外 - HDR图像</span></p>
<p>辐照缓存 + 准蒙特卡洛。</p>
<p>下面的信息对<span class="command">室外</span>预设很重要：<ul></p>
<p><li> <span class="command">预览</span>：该设置的参数会被调低，因此会计算速度很快，适合测试渲染。</li>
<li> <span class="command_value">物理天空</span>与<span class="command_value">HDR 图像</span>的区别：<a href="VPGISETUP-GI_GROUP_GENERAL.html#GI_SETUP_DATA_QMC_SKY_FORCE" target="_self"><span class="text_id">强制每像素</span></a>见后文。指定给天空对象的 HDR 对渲染更准确，它会更加精确地渲染多个投影，只要它们存在于 HDR 图像中（注意，可能需要增加漫射深度值）。</li></ul><p></p>
<p><a id="hl_3" name="hl_3"></a><!--INDEX "3","对象可视化","hl_3"--><p><span class="HL_2">对象可视化</span></p>
<p><a id="GI_SETUP_PRESET_OBJECT_PREVIEW" name="GI_SETUP_PRESET_OBJECT_PREVIEW"></a><!--INDEX "10","对象可视化 - 预览","GI_SETUP_PRESET_OBJECT_PREVIEW"--><span class="c4d_id_cycle">对象可视化 - 预览</span></p>
<p>辐照缓存 + 光线映射。</p>
<p><a id="GI_SETUP_PRESET_OBJECT_HIGH" name="GI_SETUP_PRESET_OBJECT_HIGH"></a><!--INDEX "10","对象可视化 - 高品质","GI_SETUP_PRESET_OBJECT_HIGH"--><span class="c4d_id_cycle">对象可视化 - 高品质</span></p>
<p>辐照缓存 + 辐照缓存。</p>
<p>对象可视化的采光良好，并经常位于构图中心，这意味着它通常只需要少量的光线反射。</p>
<p><a id="hl_4" name="hl_4"></a><!--INDEX "3","物理渲染器的进程式采样","hl_4"--><p><span class="HL_2">物理渲染器的进程式采样</span></p>
<p><a id="GI_SETUP_PRESET_PROGRESSIVE" name="GI_SETUP_PRESET_PROGRESSIVE"></a><!--INDEX "10","进程式采样 - 无预解算","GI_SETUP_PRESET_PROGRESSIVE"--><span class="c4d_id_cycle">进程式采样 - 无预解算</span></p>
<p>准蒙特卡洛 + 准蒙特卡洛。</p>
<p><a id="GI_SETUP_PRESET_PROGRESSIVE_PREPASS" name="GI_SETUP_PRESET_PROGRESSIVE_PREPASS"></a><!--INDEX "10","进程式采样 - 快速完成漫射","GI_SETUP_PRESET_PROGRESSIVE_PREPASS"--><span class="c4d_id_cycle">进程式采样 - 快速完成漫射</span></p>
<p>准蒙特卡洛 + 光线映射。</p>
<p>这两个选项是设计来与物理渲染器的<nobr><span class="text_id_cycle">进程式</span></nobr> <a href="VPXMBSAMPLER-ID_VIDEOPOSTPROPERTIES.html#VP_XMB_RAYTRACING_SAMPLER" target="_self"><span class="text_id">采样器</span></a>设置一起使用的。你可以快速地渲染粗糙的图像，它的质量会渐进式地提高，让你不用长时间地等待图像完成渲染就可以检查整体渲染质量。</p>
<p>你还可以参考使用各种算法组合的<a href="52453.html" target="">渲染示例</a>。</p>
<p></RELEASE_150></p>
<p><RELEASE_150 Selecting GI methods according to primary and secondary proportion.></p>
<p><a id="GI_SETUP_DATA_PRIMARY_METHOD" name="GI_SETUP_DATA_PRIMARY_METHOD"></a> <!--INDEX "8","首次反弹算法","GI_SETUP_DATA_PRIMARY_METHOD"--><span class="c4d_id">首次反弹算法</span><br><a id="GI_SETUP_DATA_SECONDARY_METHOD" name="GI_SETUP_DATA_SECONDARY_METHOD"></a> <!--INDEX "8","二次反弹算法","GI_SETUP_DATA_SECONDARY_METHOD"--><span class="c4d_id">二次反弹算法</span></p>
<p><div class="image_full" style="max-width:1200px"><img  src="../pics/037283.jpg"  ><span class="caption">The <span class="command">首次反弹算法</span> only brightens surfaces that are directly lit and the <span class="command">二次反弹算法</span> is responsible for additionally reflected light.</span></div></p>
<p><a id="ANC" name="ANC"></a></p>
<p>GI in Cinema 4D works in two parts:<ul></p>
<p><li> The <span class="command">首次反弹算法</span> calculates the effect of 漫射深度 1, i.e., the light emitted by polygon lights or the light emitted by illuminated surfaces (via real light sources or the 物理天空) without further reflection. In the latter case, the typical GI lighting (the red sphere that is illumintated by a white light reflects red light) with indirect reflection of light will result.</li>
<li> The <span class="command">二次反弹算法</span> calculates the brightness of surfaces (that do not have to lie in the camera’s field of view) that are brightened by multiple light reflections.</li></ul><p></p>
<p><div class="image_full" style="max-width:1600px"><img  src="../pics/037733.jpg"  ><span class="caption">In this example, only the 首次反弹算法 was used on the left side of the picture and both Primary and Secodary methods were used on the right; on the left a polygon light, at right a normal light.</span></div></p>
<p>The results of both methods will be added to make up the overall GI when rendered.</p>
<p>Why are these methods separate? Simply because the 首次反弹算法 is most important method for the render quality and therefore higher-quality methods such as 准蒙特卡洛 or 辐照缓存 should be used. Of course these also take correspondingly long to render. For light that is reflected back-and-forth, methods can be used that are of "lesser quality" and render faster (such as Radiosity or 光线映射).</p>
<p>Depending on the Project’s setup, different methods can then be combined, which practically enough already have <span class="command">Presets</span> defined for them.</p>
<p><p><div class="hint"><span class="HL_hint">提示：<br></span>The two-part GI calculation already existed in previous versions：If <span class="command">Mode</span> was set to <span class="command_value">辐照缓存</span> and <span class="command">Sampling</span> set to <span class="command_value">辐射贴图</span>, this reflected the current <nobr><span class="text_id_cycle">辐照缓存</span></nobr> <a href="VPGISETUP-GI_GROUP_GENERAL.html#GI_SETUP_DATA_PRIMARY_METHOD" target="_self"><span class="text_id">首次反弹算法</span></a> and <nobr><span class="text_id_cycle">辐射贴图</span></nobr> <a href="VPGISETUP-GI_GROUP_GENERAL.html#GI_SETUP_DATA_SECONDARY_METHOD" target="_self"><span class="text_id">二次反弹算法</span></a>. Several new possible combinations are now available for selection such as <span class="command_value">光线映射</span> <span class="command">二次反弹算法</span>.</div></p>
<p>Have a look at <a href="32222.html" target="">the first steps for GI rendering</a></p>
<p>In the following you will find a brief description of the individual methods.</p>
<p>Note also the rendered <a href="52453.html" target="">Examples</a>, rendered with various combinations of both methods (准蒙特卡洛+光线映射, for example stands for 准蒙特卡洛 as <span class="command">首次反弹算法</span> and 光线映射 as <span class="command">二次反弹算法</span>).</p>
<p><a id="hl_5" name="hl_5"></a><!--INDEX "3","首次反弹算法","hl_5"--><p><span class="HL_2">首次反弹算法</span></p>
<p><a id="GI_SETUP_METHOD_QMC" name="GI_SETUP_METHOD_QMC"></a><!--INDEX "10","准蒙特卡洛（QMC）","GI_SETUP_METHOD_QMC"--><span class="c4d_id_cycle">准蒙特卡洛（QMC）</span></p>
<p><span class="command_value">准蒙特卡洛</span> is the most precise but slowest method (also works excellently when used with 光线映射 as 二次反弹算法 at moderate render times). Animations are flicker-free (if not free of noise) when 准蒙特卡洛+准蒙特卡洛 is used. Details can be found <a href="VPGISETUP-GI_GROUP_GENERAL.html#qmc" target="">here (How does 准蒙特卡洛 work?)</a></p>
<p><a id="GI_SETUP_METHOD_IC2" name="GI_SETUP_METHOD_IC2"></a><!--INDEX "10","辐照缓存","GI_SETUP_METHOD_IC2"--><span class="c4d_id_cycle">辐照缓存</span></p>
<p><span class="command_value">辐照缓存</span> is a simplified, expeditious method of ascertaining the most important areas of a given Project, calculating GI at these locations and interpolating. Animations tend to flicker if the values are too low. Details can be found <a href="VPGISETUP-GI_GROUP_IC2.html" target="">这里(辐照缓存)</a>.</p>
<p><a id="GI_SETUP_METHOD_IRRADIANCE_CACHE" name="GI_SETUP_METHOD_IRRADIANCE_CACHE"></a><!--INDEX "10","辐照缓存（传统）","GI_SETUP_METHOD_IRRADIANCE_CACHE"--><span class="c4d_id_cycle">辐照缓存（传统）</span></p>
<p>This is the 辐照缓存 from Cinema 4D versions prior to R15. It has been maintained so older Projects can be rendered with the same render results. Note that this method cannot be used in conjunction with Team Render.</p>
<p><a id="hl_6" name="hl_6"></a><!--INDEX "3","二次反弹算法","hl_6"--><p><span class="HL_2">二次反弹算法</span></p>
<p><a id="GI_SETUP_METHOD_QMC" name="GI_SETUP_METHOD_QMC"></a><!--INDEX "10","准蒙特卡洛（QMC）","GI_SETUP_METHOD_QMC"--><span class="c4d_id_cycle">准蒙特卡洛（QMC）</span></p>
<p><span class="command_value">准蒙特卡洛</span> as a <span class="command">二次反弹算法</span> is best when used as 辐照缓存+准蒙特卡洛 for exterior scenes, and most precise - and slowest - as 准蒙特卡洛+准蒙特卡洛.</p>
<p><a id="GI_SETUP_METHOD_CACHE" name="GI_SETUP_METHOD_CACHE"></a><!--INDEX "10","辐照缓存","GI_SETUP_METHOD_CACHE"--><span class="c4d_id_cycle">辐照缓存</span></p>
<p><span class="command_value">IC</span> as <span class="command">二次反弹算法</span> works well for interior spaces with small lights defined as GI area lights or GI portal lights. Make sure to reduce the <a href="VPGISETUP-GI_GROUP_GENERAL.html#GI_SETUP_DATA_QMC_COUNT_METHOD" target="_self"><span class="text_id">Samples</span></a> value in combination with 准蒙特卡洛+辐照缓存. Internally, a much greater number of 准蒙特卡洛 samples are used for 辐照缓存, which can increase render times very dramatically.</p>
<p><a id="GI_SETUP_METHOD_RADIANCE" name="GI_SETUP_METHOD_RADIANCE"></a><!--INDEX "10","辐射贴图","GI_SETUP_METHOD_RADIANCE"--><span class="c4d_id_cycle">辐射贴图</span></p>
<p><span class="command_value">辐射贴图</span> as <span class="command">二次反弹算法</span> are well-suited for fast preview renderings because of their low 漫射深度 (less reflected light). Details can be found <a href="VPGISETUP-GI_GROUP_RADIANCE.html" target="">here (辐射贴图)</a>.</p>
<p><a id="GI_SETUP_METHOD_LIGHT_MAPPING" name="GI_SETUP_METHOD_LIGHT_MAPPING"></a><!--INDEX "10","光线映射","GI_SETUP_METHOD_LIGHT_MAPPING"--><span class="c4d_id_cycle">光线映射</span></p>
<p><span class="command_value">光线映射</span> as <span class="command">二次反弹算法</span> work very well when rendering interior spaces where a lot of light is needed, which can be very quickly supplied by the high number of light reflections from 光线映射. Details can be found <a href="VPGISETUP-GI_GROUP_LIGHT_MAPPING.html" target="">这里(光线映射)</a>.</p>
<p><a id="GI_SETUP_METHOD_NONE" name="GI_SETUP_METHOD_NONE"></a><!--INDEX "10","无","GI_SETUP_METHOD_NONE"--><span class="c4d_id_cycle">无</span></p>
<p>Disables the secondary GI calculation. This represents a <span class="command">漫射深度</span> of <span class="command_value">1</span> (see image above).</p>
<p></RELEASE_150></p>
<p><a id="GI_SETUP_DATA_PRIMARY_INTENSITY" name="GI_SETUP_DATA_PRIMARY_INTENSITY"></a> <!--INDEX "8","强度","GI_SETUP_DATA_PRIMARY_INTENSITY"--><span class="c4d_id">强度</span> <span class="range">[0.1..10000%]</span><br><a id="GI_SETUP_DATA_SECONDARY_INTENSITY" name="GI_SETUP_DATA_SECONDARY_INTENSITY"></a> <!--INDEX "8","强度","GI_SETUP_DATA_SECONDARY_INTENSITY"--><span class="c4d_id">强度</span> <span class="range">[0.1..10000%]</span></p>
<p><div class="image_full" style="max-width:960px"><img  src="../pics/020139.jpg"  ><span class="caption">From left to right, the following <span class="command">Primary/Secondary 强度</span> values：<span class="command_value">100%/100%</span>, <span class="command_value">300%/100%</span>, <span class="command_value">100%/500%</span>.</span></div></p>
<p>Use these settings to adjust the GI’s brightness according to Primary or 二次反弹算法 (see above).</p>
<p><RELEASE_150 Saturation settings (for <span class="command">首次反弹算法</span> and <span class="command">二次反弹算法</span>) that can be defined separately.></p>
<p><a id="GI_SETUP_DATA_PRIMARY_SATURATION" name="GI_SETUP_DATA_PRIMARY_SATURATION"></a> <!--INDEX "8","饱和度","GI_SETUP_DATA_PRIMARY_SATURATION"--><span class="c4d_id">饱和度</span> <span class="range">[0..1000%]</span><br><a id="GI_SETUP_DATA_SECONDARY_SATURATION" name="GI_SETUP_DATA_SECONDARY_SATURATION"></a> <!--INDEX "8","饱和度","GI_SETUP_DATA_SECONDARY_SATURATION"--><span class="c4d_id">饱和度</span> <span class="range">[0..1000%]</span></p>
<p><div class="image_full" style="max-width:1200px"><img  src="../pics/037284.jpg"  ><span class="caption">A single blue Polygon Light lights the scenery, with various <span class="command">饱和度</span> settings. Note how the <span class="command">二次反弹算法</span> at the center emits colorless light.</span></div></p>
<p>This setting can be used to define the color saturation used within the GI calculation separately for the <span class="command">首次反弹算法</span> and <span class="command">二次反弹算法</span> GI functions. This is especially useful if the 物理天空 produces shadows that are too blue or if the 光线映射 produces a very saturated effect. In both instances the <span class="command_value">饱和度</span> value for the <span class="command">二次反弹算法</span> can be reduced. If other methods produce too little saturation (as is sometimes the case with 辐照缓存/准蒙特卡洛 as a 二次反弹算法), the <span class="command_value">饱和度</span> value can, of course, be increased.</p>
<p>Note that if the <span class="command">首次反弹算法</span>’s <span class="command_value">饱和度</span> setting is set to <span class="command_value">0%</span>, no colors will be available for the <span class="command">二次反弹算法</span>.</p>
<p>For <a href="VPGISETUP-GI_GROUP_RADIANCE.html" target="">辐射贴图</a>, the <span class="command">二次反弹算法</span>’s 饱和度 will only affect real Area lights (not Polygon Lights) and/or 物理天空 (which is given a real light source via the Sun light).</p>
<p>Color saturations can also be modified for materials (see also <a href="MMATERIAL-ID_MATERIALGROUP_ILLUMINATION.html#MATERIAL_GLOBALILLUM_GENERATE_SATURATION" target="_self"><span class="text_id">饱和度</span></a>). Both of these parameters represent a global, Project-wide saturation setting.</p>
<p></RELEASE_150></p>
<p><a id="GI_SETUP_DATA_DIFFUSE_DEPTH" name="GI_SETUP_DATA_DIFFUSE_DEPTH"></a> <!--INDEX "8","漫射深度","GI_SETUP_DATA_DIFFUSE_DEPTH"--><span class="c4d_id">漫射深度</span> <span class="range">[2..8]</span></p>
<p><div class="image_full" style="max-width:962px"><img  src="../pics/020138.jpg"  ><span class="caption">Increasing 漫射深度 values for increased realism. Note that no light reaches behind the walls with the <span class="command">漫射深度</span> set to <span class="command_value">1</span> (= deactivated 二次反弹算法).</span></div></p>
<p>The 漫射深度 (that can only be defined for the <span class="command_value">辐照缓存</span> or <span class="command_value">准蒙特卡洛</span> 二次反弹算法) determines how often light should be reflected from a surface (note the difference between polygon lights and real lights, as described <a href="VPGISETUP-GI_GROUP_GENERAL.html#anc" target="">here</a>). Greater 漫射深度 values will result in correspondingly, but moderately, longer render times (the difference between a value of <span class="command_value">1</span> and <span class="command_value">2</span> is greater than that between <span class="command_value">2</span> and <span class="command_value">8</span> - as you can see, a completely different behavior compared to previous GI versions) but the dispersion of light will become increasingly homogeneous, brighter and more realistic. However, the effect at values greater than 3 in a normal scene will become less and less noticeable and the rendered result will simply become brighter.</p>
<p>Note that <a href="VPGISETUP-GI_GROUP_GENERAL.html#GI_SETUP_DATA_GAMMA_VALUE" target="">gamma correction</a> can, within limits, be used to compensate for lower 漫射深度 values.</p>
<p>Generally speaking, high diffuse depths should be achieved by using <a href="VPGISETUP-GI_GROUP_LIGHT_MAPPING.html" target="">光线映射</a></p>
<p><p><div class="hint"><span class="HL_hint">提示：<br></span>When "real" light sources are used, indirect illumination can already be achieved with a <span class="command">漫射深度</span> value of <span class="command_value">1</span> (= deactivated 二次反弹算法) because the objects illuminated by the light source will be recognized as a luminous object.</div></p>
<p><a id="GI_SETUP_DATA_LIGHT_MAPPING_PATH_DEPTH" name="GI_SETUP_DATA_LIGHT_MAPPING_PATH_DEPTH"></a> <!--INDEX "8","最大传递深度","GI_SETUP_DATA_LIGHT_MAPPING_PATH_DEPTH"--><span class="c4d_id">最大传递深度</span> <span class="range">[1..128]</span></p>
<p><div class="image_full" style="max-width:1600px"><img  src="../pics/037285.jpg"  ><span class="caption">Left：最大传递深度 = <span class="command_value">8</span>, right = <span class="command_value">32</span>.</span></div></p>
<p>The visual sample emitted into the scene when a Light Map is calculated (see also <a href="VPGISETUP-GI_GROUP_LIGHT_MAPPING.html" target="">光线映射</a>) is calculated using the number of "ricochets’ defined here. Higher values will produce a brighter and more homogenous dispersion of light with no increase in render time. The increase in brightness is less in closed spaces. In exterior scenes, the visual sample will quickly reach the sky and then be exempted from further reflections.</p>
<p>A reminder：No other GI method calculates high 漫射深度 values as fast as 光线映射!</p>
<p><a id="GI_SETUP_DATA_GAMMA_VALUE" name="GI_SETUP_DATA_GAMMA_VALUE"></a> <!--INDEX "8","Gamma","GI_SETUP_DATA_GAMMA_VALUE"--><span class="c4d_id">Gamma</span> <span class="range">[0.1..10]</span></p>
<p><div class="image_full" style="max-width:800px"><img  src="../pics/020140.jpg"  ><span class="caption">Images 1-6：Different Gamma values (<span class="command">漫射深度</span> each set to <span class="command_value">3</span>). For comparison at bottom：<span class="command">Gamma</span> = <span class="command_value">1</span>, <span class="command">漫射深度</span> = <span class="command_value">8</span>.</span></div></p>
<p><p><div class="hint"><span class="HL_hint">提示：<br></span>The gamma value has lost some of its importance in Cinema 4D R12. Enabling the <a href="DDOC-DOCUMENT_GROUP_PROJECTSETTINGS.html#DOCUMENT_LINEARWORKFLOW" target="_self"><span class="text_id">Linear Workflow</span></a> option will render new (newly created) GI scenes lighter by default.</div></p>
<p>This gamma value only affects the indirect GI lighting. Gamma values define how the internally rendered brightness values should be displayed in RGB mode. Simply stated, a progression from the darkest (black) to brightest (white) is defined.</p>
<p>This lets relatively dark renderings (e.g., resulting from a low <span class="command">漫射深度</span> value) be brightened. But be careful - high gamma values will reduce contrast and "flatten" the overall image (values ranging from <span class="command_value">1</span> to <span class="command_value">3</span> have proven to be most effective; in some instances higher values may be necessary). Values less than <span class="command_value">1</span> will darken the image, whereas values greater than <span class="command_value">1</span> will brighten an image (see example above).</p>
<p><a id="SAMP" name="SAMP"></a></p>
<p><a id="hl_7" name="hl_7"></a><!--INDEX "3","采样","hl_7"--><p><span class="HL_1">采样</span></p>
<p>The <span class="command">采样</span> tab’s settings affect the GI sampling for the 准蒙特卡洛 and 辐照缓存 <span class="command">首次反弹算法</span> (if both of these are also used for the <span class="command">二次反弹算法</span>, only a fraction of the value defined here will be used)：How many samples should be sent and where in order to gather light from the environment?. Don’t let the numerous settings intimidate you - the first setting -<span class="command">Samples</span> - is the most important and the others are designed for fine-tuning.</p>
<p>Have a look at the image below. It shows how the <span class="command_value">准蒙特卡洛</span> <span class="command">GI Mode</span> works (<span class="command_value">辐照缓存</span> works similarly but not for each pixel with a <a href="VPGISETUP-GI_GROUP_GENERAL.html#GI_SETUP_DATA_DIFFUSE_DEPTH" target="_self"><span class="text_id">漫射深度</span></a> value of <span class="command_value">3</span>.</p>
<p><a id="IMAGE" name="IMAGE"></a></p>
<p><div class="image_full" style="max-width:1800px"><img  src="../pics/036160.jpg"  ><span class="caption"></span></div></p>
<p>In the image above you can see what additional samples are created by a sample coming from the bottom left when it hits an object (samples are used to sample colors and brightness for a specific location in the environment =, gather’). As you can see, the most commotion takes place at the intersection point, 漫射深度 1’ and the first object (and subsequently the light reflections (漫射深度 2, 3, etc.) have progressively decreasing influence on the rendered result).</p>
<p><ol><br><li> Left (<span class="command">离散面积采样</span> and <span class="command">离散天空采样</span> disabled):<br>At the first point of contact, several samples are sent out in a hemispherical direction (this is exactly what the <span class="command">Hemispherical Sampling</span> option is meant for).<br>
<li> Center (<span class="command">离散面积采样</span> is enabled and <span class="command">离散天空采样</span> is disabled):<br>In addition to the hemispherical sampling, several samples are also sent out in the direction of GI Portals / (polygonal) Area lights.<br>
<li> Right (<span class="command">离散面积采样</span> and <span class="command">离散天空采样</span> enabled):<br>In addition to the hemispherical sampling and the Area light sampling, additional samples are sent out in the direction of the sky.<br></ol><p></p>
<p>The Sampling settings described below then only primarily define if and how many samples are created on Sphere 1.</p>
<p>In order to avoid too much technical jargon, take a look at the image below in which the options have been applied to a rendered Project:</p>
<p>An Area light was positioned at the rear of the room, a window in the wall on the right that looks out to a Sky object with an HDRI assigned to it (yes, it can render hard shadows!). No Cinema 4D light sources have been placed in the Project. The images were rendered in <span class="command_value">准蒙特卡洛</span> <span class="command">首次反弹算法</span> (for <span class="command">IC</span> mode, imagine spots instead of graininess for the image).</p>
<p><div class="image_full" style="max-width:1800px"><img  src="../pics/036161.jpg"  ><span class="caption"></span></div></p>
<p> </p>
<p><ol><br><li> Left (<span class="command">离散面积采样</span> and <span class="command">离散天空采样</span> disabled):<br>This is not a viable option for this particular Project. The image itself is very grainy (which is the result of random samples hitting the Area light), the shadows - if they’re even worth mentioning - are even more grainy. Bright points are also visible here and there. These are the result of very few random samples hitting the (HDRI) sky’s sun.<br>
<li> Center (<span class="command">离散面积采样</span> enabled and <span class="command">离散天空采样</span> disabled):<br>The general graininess has been greatly reduced because additional samples are being sent to the Area light (each point visible to the camera is analyzed, which results in the Area light’s shadow being very defined).<br>
<li> Right (<span class="command">离散面积采样</span> and <span class="command">离散天空采样</span> enabled):<br>In addition to the hemispherical sampling and the Area light samples, additional samples are sent in the direction of the sky. This abolishes the bright points because every point visible to the camera is precisely analyzed with regard to the sky’s influence (including its effect on the remaining Project elements).<br></ol><p></p>
<p>It’s not altogether wrong to leave Discrete Sampling enabled. Only for special instances in which you want to intentionally exclude one of the Sampling modes should it be disabled. The difference in render time will be noticeable if no Area light or sky are present in the Project.</p>
<p><p><div class="hint"><span class="HL_hint">提示：<br></span>The description of the following settings applies to the <span class="command_value">准蒙特卡洛</span> <span class="command">首次反弹算法</span>. The same applies to the <span class="command_value">辐照缓存</span> method except that sampling does not take place for each pixel but for each shading point.</div></p>
<p><a id="GI_SETUP_DATA_QMC_COUNT_METHOD" name="GI_SETUP_DATA_QMC_COUNT_METHOD"></a> <!--INDEX "8","采样","GI_SETUP_DATA_QMC_COUNT_METHOD"--><span class="c4d_id">采样</span></p>
<p>Here you will find several options from which you can choose that control the <span class="command">精度</span> and <span class="command">采样数量</span> settings.<ul></p>
<p><li> Selecting <span class="command_value">自定义采样数量</span> lets you manually define the <span class="command">采样数量</span> value</li>
<li> Selecting <span class="command_value">自定义精度</span> lets you manually define the <span class="command">精度</span> value</li></ul><p></p>
<p>Two methods of defining sample count are integrated:<ul></p>
<p><li> An automatic determination controlled by one of the quality settings (<span class="command_value">Low</span>, <span class="command_value">Medium</span>, <span class="command_value">High</span>, <span class="command_value">精度</span>)</li><li> A fixed number of samples defined by the <span class="command">采样数量</span> setting</li></ul><p></p>
<p><a id="GI_SETUP_DATA_QMC_COUNT_THRESHOLD" name="GI_SETUP_DATA_QMC_COUNT_THRESHOLD"></a> <!--INDEX "8","精度","GI_SETUP_DATA_QMC_COUNT_THRESHOLD"--><span class="c4d_id">精度</span> <span class="range">[0..200%]</span></p>
<p>Use this setting to automatically define an optimized sample count. The optimal count depends on the Project (and in the case of the <span class="command_value">辐照缓存</span> <span class="command">首次反弹算法</span> on the other 辐照缓存 settings) and of course the defined <span class="command">精度</span> value.</p>
<p><p><div class="hint"><span class="HL_hint">提示：<br></span>Note that some time will be needed for evaluation, which can be optimized if you define a specific <span class="command">采样数量</span> (if <span class="command">Samples</span> is set to <span class="command">自定义采样数量</span>). To get a reference value for the number of samples, open the Console (main menu：Script / Console) and render the scene. Enter the value displayed for sample count that was calculated into the custom <span class="command">采样数量</span>. Note that the GI console output can be enabled or disabled in the Preferences menu (<span class="command">Renderer</span> menu)!</div></p>
<p><a id="GI_SETUP_DATA_QMC_COUNT" name="GI_SETUP_DATA_QMC_COUNT"></a> <!--INDEX "8","采样数量","GI_SETUP_DATA_QMC_COUNT"--><span class="c4d_id">采样数量</span> <span class="range">[1..16384]</span></p>
<p><div class="image_full" style="max-width:920px"><img  src="../pics/036163.jpg"  ><span class="caption"></span></div></p>
<p>This setting defines the fixed number of samples to be used. A higher value produces a correspondingly better render quality (for <span class="command_value">准蒙特卡洛</span> this can be seen in the graininess; for <span class="command_value">辐照缓存</span> the number of spots is reduced). Depending on the Project, values in the thousands can be entered (see also <a href="VPGISETUP-GI_GROUP_IRRADIANCE.html#qq" target="">Number of Samples Calculated Per Shading Point</a>).</p>
<p>The number of samples used for rendering will also be used by the Discrete Area and 离散天空采样 if they do not have a specific number of samples defined.</p>
<p><a id="GI_SETUP_DATA_QMC_ENABLED" name="GI_SETUP_DATA_QMC_ENABLED"></a> <!--INDEX "8","Hemispherical Sampling","GI_SETUP_DATA_QMC_ENABLED"--><span class="c4d_id">Hemispherical Sampling</span></p>
<p>Normally, this option should always be enabled. Disabling this option will disable the samples sent out in a hemispheric manner from the shading point (also called the, primary sampler’). Disabling this option rarely makes sense but doing so can help determine how Area lights or the sky affect the Project (because the 漫射深度 will then be reduced to a value of <span class="command_value">1</span>). In such an instance, <span class="command">离散面积采样</span> and <span class="command">离散天空采样</span> should be enabled.</p>
<p><div class="image_full" style="max-width:1174px"><img  src="../pics/036162.jpg"  ><span class="caption">At the left only the effect of the <span class="command">Hemispherical Sampling</span> is shown. It is enabled in the center and disabled at the right (in both cases <span class="command">离散面积采样</span> and <span class="command">离散天空采样</span> are enabled).</span></div></p>
<p>This sampling method is, for example, well-suited for use with large, homogenous Area lights (e.g., evenly overcast sky - which would not require the subsequently described sampling methods).</p>
<p><a id="GI_SETUP_DATA_QMC_AREA_ENABLED" name="GI_SETUP_DATA_QMC_AREA_ENABLED"></a> <!--INDEX "8","离散面积采样","GI_SETUP_DATA_QMC_AREA_ENABLED"--><span class="c4d_id">离散面积采样</span></p>
<p><div class="image_full" style="max-width:1238px"><img  src="../pics/036164.jpg"  ><span class="caption">At center <span class="command">离散面积采样</span> disabled, at right enabled.</span></div></p>
<p>In order for this sampling type to work, the <a href="MMATERIAL-ID_MATERIALGROUP_ILLUMINATION.html#MATERIAL_GLOBALILLUM_AREA" target="_self"><span class="text_id">GI Area Light</span></a> (or for GI ports <a href="MMATERIAL-ID_MATERIALGROUP_ILLUMINATION.html#MATERIAL_GLOBALILLUM_PORTAL" target="_self"><span class="text_id">GI Portal</span></a>) option must be enabled in the respective (illuminating) material.</p>
<p>This sampling method sends additional samples to (polygon) Area lights. This will, emphasize’ them disproportionally, which will have a major effect on the quality of the GI.</p>
<p>Note that the Area lights will NOT be omitted from the GI calculation if this option is disabled. These lights will merely receive no special attention and will be hit randomly by the hemispherical sampling (with a correspondingly grainy result).</p>
<p><a id="GI_SETUP_DATA_QMC_AREA_FORCE" name="GI_SETUP_DATA_QMC_AREA_FORCE"></a> <!--INDEX "8","强制每像素","GI_SETUP_DATA_QMC_AREA_FORCE"--><span class="c4d_id">强制每像素</span></p>
<p><div class="image_full" style="max-width:1280px"><img  src="../pics/036165.jpg"  ><span class="caption">At left, <span class="command">强制每像素</span> disabled, at right enabled.</span></div></p>
<p>This option is only advantageous in <span class="command_value">辐照缓存</span> 首次反弹算法. Normally every light will be taken into consideration for the cache when an 辐照缓存 is created. However, this does not work if you have very small, bright Area lights. The result will be spotty images. If you enable the <span class="command">强制每像素</span> option, the calculation of the Area lights will be split from the cache and calculated separately (as the <span class="command_value">准蒙特卡洛</span> method does by default) for each potential pixel (object surfaces but no backgrounds or skies, for example).</p>
<p>The result of these calculations will not be saved in the 辐照缓存 and must therefore be calculated anew for each frame of an animation.</p>
<p><a id="GI_SETUP_DATA_QMC_AREA_CUSTOM" name="GI_SETUP_DATA_QMC_AREA_CUSTOM"></a> <!--INDEX "8","Custom Count","GI_SETUP_DATA_QMC_AREA_CUSTOM"--><span class="c4d_id">Custom Count</span><br><a id="GI_SETUP_DATA_QMC_AREA_COUNT" name="GI_SETUP_DATA_QMC_AREA_COUNT"></a> <!--INDEX "8","采样数量","GI_SETUP_DATA_QMC_AREA_COUNT"--><span class="c4d_id">采样数量</span> <span class="range">[1..16384]</span></p>
<p>Use these values to define a custom sample count. If <span class="command">Custom Count</span> is disabled, the same number of samples will be used as is defined in the <a href="VPGISETUP-GI_GROUP_GENERAL.html#GI_SETUP_DATA_QMC_COUNT_METHOD" target="_self"><span class="text_id">Samples</span></a> setting.</p>
<p><a id="GI_SETUP_DATA_QMC_SKY_ENABLED" name="GI_SETUP_DATA_QMC_SKY_ENABLED"></a> <!--INDEX "8","离散天空采样","GI_SETUP_DATA_QMC_SKY_ENABLED"--><span class="c4d_id">离散天空采样</span></p>
<p>This sampling mode takes into account the sky in particular (e.g., the 物理天空 or a HDRI texture that was assigned to a Sky object).</p>
<p>A sky map will be calculated internally during rendering, which will then concentrate the additionally created samples primarily on the brightest regions during rendering. This means that HDRI textures with enough contrast can cast shadows with locally very bright regions, as in the image below.</p>
<p><div class="image_full" style="max-width:1153px"><img  src="../pics/036167.jpg"  ><span class="caption">The only source of illumination here is the HDRI texture on a Sky object. Note the relatively hard shadow (option disabled at center).</span></div></p>
<p>Note that the 物理天空’s <a href="OSKYSHADER-ID_SKY_GROUP_GENERAL.html#SKY_GENERAL_MERGE_SUN" target="_self"><span class="text_id">Merge Sky and Sun</span></a> option ensures that the 物理天空 is processed internally (incl. the effects of the sun) like an HDRI texture.</p>
<p>If this option is disabled, the sky will NOT be omitted from the GI calculation. The sky will merely receive no special attention and will be hit randomly by the hemispherical sampling (the extremely bright sun will produce a grainy image).</p>
<p><a id="GI_SETUP_DATA_QMC_SKY_FORCE" name="GI_SETUP_DATA_QMC_SKY_FORCE"></a> <!--INDEX "8","强制每像素","GI_SETUP_DATA_QMC_SKY_FORCE"--><span class="c4d_id">强制每像素</span></p>
<p><div class="image_full" style="max-width:800px"><img  src="../pics/036166.jpg"  ><span class="caption">A Sky object with an HDRI texture applied to it is located behind the window; at left <span class="command">强制每像素</span> disabled, at right enabled.</span></div></p>
<p>This option only bears advantages for the <span class="command_value">辐照缓存</span> 首次反弹算法. When an 辐照缓存 is created, the sky will normally be sampled and taken into consideration for the cache. For bright regions (sun) or those with smaller surfaces, this method has limits and will result in spotty renderings.</p>
<p>If you enable <span class="command">强制每像素</span>, the calculation of the light emitted by the sky will be split from the cache and calculated separately for each pixel that comes into question (object surfaces but no backgrounds, skies, etc.), which is how the <span class="command_value">准蒙特卡洛</span> method works by default.</p>
<p>The results of this calculation will not be saved in the 辐照缓存 but must be calculated anew for each frame of an animation.</p>
<p><a id="GI_SETUP_DATA_QMC_SKY_CUSTOM" name="GI_SETUP_DATA_QMC_SKY_CUSTOM"></a> <!--INDEX "8","Custom Count","GI_SETUP_DATA_QMC_SKY_CUSTOM"--><span class="c4d_id">Custom Count</span><br><a id="GI_SETUP_DATA_QMC_SKY_COUNT" name="GI_SETUP_DATA_QMC_SKY_COUNT"></a> <!--INDEX "8","采样数量","GI_SETUP_DATA_QMC_SKY_COUNT"--><span class="c4d_id">采样数量</span> <span class="range">[1..16384]</span></p>
<p>Use these values to define a custom sample count. If <span class="command">Custom Count</span> is disabled, the same number of samples will be used as is defined in the <a href="VPGISETUP-GI_GROUP_GENERAL.html#GI_SETUP_DATA_QMC_COUNT_METHOD" target="_self"><span class="text_id">Samples</span></a> setting.</p>
<p></PAGE_RELEASE_140></p>
<p><a id="QMC" name="QMC"></a></p>
<p><a id="hl_8" name="hl_8"></a><!--INDEX "3","How Does 准蒙特卡洛 Work?","hl_8"--><p><span class="HL_1">How Does 准蒙特卡洛 Work?</span></p>
<p><div class="image_full" style="max-width:897px"><img  src="../pics/020162.jpg"  ><span class="caption">Left, rendered with 准蒙特卡洛+准蒙特卡洛, right with 辐照缓存+辐照缓存. Note the increased level of detail (shadows) in the 准蒙特卡洛 rendering.</span></div> </p>
<p>The 准蒙特卡洛 method of Global Illumination calculation works under a so-called "brute force" principle. This means that, for each (!) object pixel in the image, a definable number of rays ("采样数量") can be "beamed" in a hemispherical pattern into the scene. This is not an adaptive process and the render time will definitely not be reduced.</p>
<p>This bears the advantage that it offers the most precise render results. Small details in shadows and shading can be rendered out that would otherwise not be noticeable if the 辐照缓存 method were used.</p>
<p>Disadvantages of using 准蒙特卡洛 as 首次反弹算法:<ul></p>
<p><li> The render times are maxed out (much longer than with 辐照缓存) and, since brightness and color values based on a finite and randomly distributed number of rays ("采样数量") is ascertained for each pixel, the images will have a slight graininess to them that can only be compensated for by increasing the sample count, which in turn increases render time accordingly. Using <a href="32221.html" target="">Polygon Lights/GI Portals</a> (indoor scenes, primarily illuminated by light falling through windows) can noticably improve render quality (which also saves render time).</li><li> No caching takes place (as well as no pre-pass calculation). Hence, a lot of CPU power is needed (e.g., render farms) to render animations at an acceptable level of quality.  </li></ul><p></p>
<p>

</p>
  </div>  </div>
</body>

</html>