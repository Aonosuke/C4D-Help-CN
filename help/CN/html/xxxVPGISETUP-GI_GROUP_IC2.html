<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0014)about:internet -->
<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8">
		<meta name="generator" content="WICKIE">
		<title>全局光照设置：辐照缓存</title>
		<meta name="FORMATTER" content="wickie">
		<link href="../../files/wickie.css" type="text/css" rel="stylesheet" media="all">
		<script type="text/javascript" src="../../files/versionAppender.js"> </script>
		<script type="text/javascript" src="../../files/linkRewriter.js"> </script> 
		<!--PAGE_ID "52457"-->
		<!--VATER_ID "32075"-->
		<!--REIHENFOLGE "2"-->
		<!--TITLE "全局光照设置：辐照缓存"-->
		<!--APPS "16 14 15 10 11"-->
		<!--TYP "GROUP"-->
	</head>

<body bgcolor="#e0e0e0" link="black" vlink="#2a2a2a">


<!--NO_SEARCH_START-->
<span class="link_back"><a href="1001.html" target="_self">CINEMA 4D Prime</a></span> <span class="link_back"><a href="5697.html" target="_self">渲染菜单</a></span> <span class="link_back"><a href="DRENDERSETTINGS.html" target="_self">编辑渲染设置</a></span> <span class="link_back"><a href="32219.html" target="_self">全局光照</a></span> <span class="link_back"><a href="VPGISETUP.html" target="_self">全局光照设置</a></span>

<div class="in-prime-page in-visualize-page in-broadcast-page in-studio-page in-bodypaint3d-page ">  <div class="page_only_body">
<div class="page_only_apps">             Function available in CINEMA 4D Prime, Visualize, Broadcast, Studio & BodyPaint 3D  </div>
<span class="HL_atom"><a href="VPGISETUP.html">全局光照设置</a> </span><p></p><a href="VPGISETUP-GI_GROUP_GENERAL.html" target=""><span class="c4d_group_navi">常规</span></a> <a href="VPGISETUP-GI_GROUP_IC2.html" target=""><span class="c4d_group_navi_self">辐照缓存</span></a> <a href="VPGISETUP-GI_GROUP_IRRADIANCE.html" target=""><span class="c4d_group_navi">辐照缓存（传统）</span></a> <a href="VPGISETUP-GI_GROUP_RADIANCE.html" target=""><span class="c4d_group_navi">辐射贴图</span></a> <a href="VPGISETUP-GI_GROUP_LIGHT_MAPPING.html" target=""><span class="c4d_group_navi">光线映射</span></a> <a href="VPGISETUP-GI_GROUP_CACHES.html" target=""><span class="c4d_group_navi">缓存文件</span></a> <a href="VPGISETUP-GI_GROUP_OPTIONS.html" target=""><span class="c4d_group_navi">Options</span></a><!--NO_SEARCH_END--><p class="c4d_group"><span>辐照缓存</span></p><p></p>
<p><PAGE_RELEASE_150 GI: New, faster and improved 辐照缓存.></p>
<p><a id="hl_1" name="hl_1"></a><!--INDEX "3","常规信息","hl_1"--><p><span class="HL_1">常规信息</span></p>
<p>从 CINEMA 4D R15 开始引入了一种新的辐照缓存算法（下文称为<span class="command">新辐照缓存</span>）。这种算法与其他算法（它们在<span class="command_value">辐照缓存（传统）</span>全局光照模式中仍然可用）相比有以下优点：<ul></p>
<p><li> 像接触投影（即物体边角与它产生的投影相交的地方）等小细节处的质量更高（使用在纯<a href="VPGISETUP-GI_GROUP_GENERAL.html#qmc" target="">准蒙特卡洛</a>渲染质量下的正确设置）。</li></ul><p></p>
<p><div class="image_full" style="max-width:1333px"><img  src="../pics/037311.jpg"  ><span class="caption">新辐照缓存算法可以提升接触投影的渲染（如左图中标记的地方）。模型由 Steen Winther 提供。</span></div></p>
<p><ul></p>
<p><li> 新算法加快了渲染速度。</li>
<li> 新辐照缓存与 <a href="52632.html" target="">Team Render</a> 一起使用最佳，这还能提升动画质量（例如会减少闪烁）和速度（参见<a href="32220.html#giani" target="">全局光照与动画</a>）。</li></ul><p></p>
<p><p><div class="hint"><span class="HL_hint">提示：<br></span>这个页面的所有图像是使用辐照缓存作为<span class="command">首次</span>和<span class="command">二次</span>反弹算法来渲染的。</div></p>
<p><a id="hl_2" name="hl_2"></a><!--INDEX "3",""辐照缓存"是什么？","hl_2"--><p><span class="HL_2">"辐照缓存"是什么？</span></p>
<p>在辐照缓存渲染过程中会进行几次预解算，它会分析场景来确认最重要的间接照明区域（即“着色点”，这些点会在预解算过程中显示；在使用低<a href="VPGISETUP-GI_GROUP_IC2.html#GI_SETUP_DATA_IC2_DENSITY" target="_self"><span class="text_id">密度</span></a>值时变得很明显）。下面是更多细节：</p>
<p><div class="image_full" style="max-width:967px"><img  src="../pics/037312.jpg"  ><span class="caption">Brightness and color values for these shading points.</span></div></p>
<p>The brightness and color values for these shading points will be saved in the 辐照缓存 as so-called ,entries’. This cache can and should be saved (using the <span class="command">缓存文件</span> tab’s settings) so they can be re-used e.g., if the angle of view, camera animation, etc. change. Caches can only be re-used if you render to the Picture Viewer (i.e., not when rendering in the Viewport).</p>
<p>These 辐照缓存 entries will be interpolated during final rendering to supply pixels that lie between shading points with indirect light.</p>
<p><div class="image_full" style="max-width:967px"><img  src="../pics/037313.jpg"  ><span class="caption">… will be interpolated to ensure a homogenous dispersion of light.</span></div></p>
<p>The disadvantages of using the 辐照缓存 method should also be mentioned: When interpolating between the limited number of shading points, details with regard to light and shadow can be lost (however, not nearly as drastically as with the previous version). In this regard, <a href="VPGISETUP-GI_GROUP_GENERAL.html#qmc" target="">准蒙特卡洛</a> still has the advantage.</p>
<p>Remember that the 准蒙特卡洛 mode always offers the best GI quality with regard to light and shadow dispersion (and unfortunately the slowest). 辐照缓存 always attempts to produce a result as closely as possible to 准蒙特卡洛.</p>
<p>辐照缓存 tends to flicker when used in animations. The 新辐照缓存 method reduces flickering. Generally speaking, 辐照缓存 tends to flicker most if very bright and small <a href="32221.html" target="">Polygon Lights</a> are used. Large, homogenous light sources (e.g., a sky used for illumination from which light is emitted evenly from many sides) is especially IR-friendly.</p>
<p><p><div class="hint"><span class="HL_hint">提示：<br></span>The following settings can also be found in the new <a href="VPAMBIENTOCCLUSION-VPAMBIENTOCCLUSION_GROUP_CACHE.html" target="">Ambient Occlusion</a>’s settings. The basic principle with which they function is the same (AO, however, only has a 记录密度 depth of 1).</div></p>
<p>General tip: If you get spotty results, these can most often be eliminated by using a higher <span class="command">记录密度</span> value. Improving the <span class="command">Secondary Method</span>’s settings will help. However, if very poor light map quality is available, for example, there is not much 辐照缓存 can do to remedy this.</p>
<p><a id="GI_SETUP_DATA_IC2_QUALITY" name="GI_SETUP_DATA_IC2_QUALITY"></a> <!--INDEX "8","记录密度","GI_SETUP_DATA_IC2_QUALITY"--><span class="c4d_id">记录密度</span></p>
<p>Most of the following settings will only be used for fine-tuning. For most instances, the <span class="command">记录密度</span> settings <span class="command_value">低</span>, <span class="command_value">中</span> and <span class="command_value">高</span> in conjunction with corresponding values for the settings below will suffice. The <span class="command_value">预览</span> mode offers a quick preview of the final result. <span class="command_value">自定义</span> will be made available as soon as the 记录密度 value is changed manually.</p>
<p>Generally speaking, the 记录密度 value must ony be modified if, for example, a Polygon Light’s (e.g, GI Portals) hard shadow should be shown (and you don’t want to use the slow <a href="VPGISETUP-GI_GROUP_GENERAL.html#GI_SETUP_DATA_QMC_AREA_FORCE" target="_self"><span class="text_id">Force Per-Pixel</span></a>).</p>
<p><a id="GI_SETUP_DATA_IC2_RATE_MIN" name="GI_SETUP_DATA_IC2_RATE_MIN"></a> <!--INDEX "8","最小比率","GI_SETUP_DATA_IC2_RATE_MIN"--><span class="c4d_id">最小比率</span> <span class="range">[-8..4]</span><br><a id="GI_SETUP_DATA_IC2_RATE_MAX" name="GI_SETUP_DATA_IC2_RATE_MAX"></a> <!--INDEX "8","最大比率","GI_SETUP_DATA_IC2_RATE_MAX"--><span class="c4d_id">最大比率</span> <span class="range">[-8..4]</span></p>
<p>When rendering with 辐照缓存, several pre-passes will first be calculated (the phase in which squares appear that successively become smaller). During this phase, the dispersion of shading points will be ascertained. This is an adaptive process in which particular emphasis is placed on critical regions: corners, shadow edges, etc. The difference between <span class="command">最小比率</span> and <span class="command">最大比率</span> defines the number of pre-passes (see also depiction here: <a href="VPAMBIENTOCCLUSION-VPAMBIENTOCCLUSION_GROUP_CACHE.html#VPAMBIENTOCCLUSION_CACHE_RATE_MIN" target="_self"><span class="text_id">最小比率</span></a>).</p>
<p>A value of <span class="command_value">0</span> produce a full resolution image (pixel size 1*1) and a value of <span class="command_value">-1</span> will produce a pixel size of 2*2, <span class="command_value">-2</span>=4*4 and so on. Logically, the <span class="command">最小比率</span> value should always be less than the <span class="command">最大比率</span> value. Positive values are, however, also possible, which allow sub-pixel cache entries (this can be useful for <a href="MMATERIAL-ID_MATERIALGROUP_DISPLACEMENT.html#MATERIAL_DISPLACEMENT_SUBPOLY" target="">Subpolygon Displacement</a> if details are lost). In the end, these settings are not as important as they were for previous IR. Render times differ only nominally and as long as the values are kept reasonable (<span class="command">最大比率</span> not less than <span class="command_value">0</span>), the render results will not differ very much, either. If negative values are used for <span class="command">最小比率</span>, and <span class="command">最大比率</span> is set to <span class="command_value">0</span>, you’re pretty much on track.</p>
<p><a id="GI_SETUP_DATA_IC2_DENSITY" name="GI_SETUP_DATA_IC2_DENSITY"></a> <!--INDEX "8","密度","GI_SETUP_DATA_IC2_DENSITY"--><span class="c4d_id">密度</span> <span class="range">[10..1000%]</span><br><a id="GI_SETUP_DATA_IC2_DETAILS" name="GI_SETUP_DATA_IC2_DETAILS"></a> <!--INDEX "8","最小间距","GI_SETUP_DATA_IC2_DETAILS"--><span class="c4d_id">最小间距</span> <span class="range">[0..1000%]</span><br><a id="GI_SETUP_DATA_IC2_MAX_LIMIT" name="GI_SETUP_DATA_IC2_MAX_LIMIT"></a> <!--INDEX "8","最大间距","GI_SETUP_DATA_IC2_MAX_LIMIT"--><span class="c4d_id">最大间距</span> <span class="range">[0..1000%]</span></p>
<p><div class="image_full" style="max-width:1014px"><img  src="../pics/037314.jpg"  ><span class="caption">Increasing <span class="command">密度</span> values from bottom to top.</span></div></p>
<p>The <span class="command">密度</span> value adjusts the general dispersion of shading points. The higher the value, the higher the shading point density.</p>
<p>It makes sense to describe these three settings together because all three work together and, simply put, define the shading point density in critical and non-critical areas:<ul></p>
<p><li> <span class="command">密度</span>: General shading point density in consideration of the following two settings.</li>
<li> <span class="command">最小间距</span>: Shading point density in critical areas (e.g., corners, shadows).</li>
<li> <span class="command">最大间距</span>: Shading point density in non-critical areas (e.g., plane surfaces).</li></ul><p></p>
<p>The following image shows the effects of the above-mentioned settings:</p>
<p><div class="image_full" style="max-width:2069px"><img  src="../pics/037315.jpg"  ><span class="caption">Different variations of the <span class="command">密度</span>, <span class="command">最小间距</span> and <span class="command">最大间距</span> settings.</span></div></p>
<p>How does shading point dispersion affect the final rendered image? For a cleanly rendered image, a high number of shading points are required in critical areas and a halfway decent density in the remaining areas. If you then make sure that each shading point has as many <a href="VPGISETUP-GI_GROUP_GENERAL.html#GI_SETUP_DATA_QMC_COUNT_METHOD" target="_self"><span class="text_id">采样</span></a> as possible, there’s not much that can go wrong.</p>
<p><a id="GI_SETUP_DATA_IC2_SMOOTHING" name="GI_SETUP_DATA_IC2_SMOOTHING"></a> <!--INDEX "8","平滑","GI_SETUP_DATA_IC2_SMOOTHING"--><span class="c4d_id">平滑</span> <span class="range">[0..1000%]</span></p>
<p>All previously described settings revolve around the positioning and calculation of shading points. Indirect lighting was ascertained at numerous locations within the Project. This point-by-point dispersion of brightness must be converted to a planar dispersion during rendering. A smoothing algorithm does this in the following way: For each pixel to be rendered for a given object, 辐照缓存 is scanned to find entries in their close proximity to interpolate their brightness and color values.</p>
<p>The higher the <span class="command">平滑</span> value, the more shading points that will be used for interpolation to render a given pixel. This setting represents a threshold value that determines whether or not a given cache entry in its proximity will be used. Smaller values generally produce a sharper (and often more spotty) result, whereas larger values will interpolate across larger areas, which results in a more uniform illumination but also means that small details will be lost. Generally speaking, <span class="command">平滑</span> is a setting whose value you will rarely have to modify.</p>
<p><a id="GI_SETUP_DATA_IC2_COLOR" name="GI_SETUP_DATA_IC2_COLOR"></a> <!--INDEX "8","细化颜色","GI_SETUP_DATA_IC2_COLOR"--><span class="c4d_id">细化颜色</span> <span class="range">[0..1000%]</span></p>
<p><div class="image_full" style="max-width:924px"><img  src="../pics/037316.jpg"  ><span class="caption">Note how the cast shadow is much more defined if a higher <span class="command">细化颜色</span> value is used.</span></div></p>
<p>Increasing this setting’s value will improve the render quality in regions in which GI lighting changes abruptly (e.g., GI shadows on bright Polygon Lights). What basically happens is that additional shading points will be generated (with a corresponding increase in render time). Important: You should increase the 记录密度 enough so the dispersion of light is homogenous, otherwise spotty regions will result in regions in which GI lighting changes abruptly.</p>
<p>GI Caustics will also benefit from higher values!</p>
<p><div class="image_full" style="max-width:822px"><img  src="../pics/037317.jpg"  ><span class="caption">A 准蒙特卡洛-like Caustics rendering (right), which took a fraction of the time to render.</span></div></p>
<p><a id="GI_SETUP_DATA_IC2_SCALE" name="GI_SETUP_DATA_IC2_SCALE"></a> <!--INDEX "8","屏幕比例","GI_SETUP_DATA_IC2_SCALE"--><span class="c4d_id">屏幕比例</span></p>
<p>With the previous 辐照缓存, the shading point dispersion was done independently of the size of the rendered image, i.e., the same pre-pass was used for an image 80 x 80 pixels as for an image with a resolution of 1024 x 768. Enabling the <span class="command">屏幕比例</span> option will adjust the shading point density to the image’s resolution. This means that correspondingly more cache entries will be created for an image with a very large resolution than for an image with a very small resolution. Hence, smaller images will render faster and larger correspondingly slower, which also means that more details will be visible.</p>
<p>

</p>
  </div>  </div>
</body>

</html>