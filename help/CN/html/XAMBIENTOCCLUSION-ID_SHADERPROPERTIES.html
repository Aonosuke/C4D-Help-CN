<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- saved from url=(0014)about:internet -->
<html>

	<head>
		<meta http-equiv="content-type" content="text/html;charset=utf-8">
		<meta name="generator" content="WICKIE">
		<title>环境吸收着色器：着色器属性</title>
		<meta name="FORMATTER" content="wickie">
		<link href="../../files/wickie.css" type="text/css" rel="stylesheet" media="all">
		<script type="text/javascript" src="../../files/versionAppender.js"> </script>
		<script type="text/javascript" src="../../files/linkRewriter.js"> </script> 
		<!--PAGE_ID "5353"-->
		<!--VATER_ID "5351"-->
		<!--REIHENFOLGE "3"-->
		<!--TITLE "环境吸收着色器：着色器属性"-->
		<!--APPS "11 16 17 10 14 15"-->
		<!--TYP "GROUP"-->
	</head>

<body bgcolor="#e0e0e0" link="black" vlink="#2a2a2a">


<!--NO_SEARCH_START-->
<span class="link_back"><a href="1001.html" target="_self">CINEMA 4D Prime</a></span> <span class="link_back"><a href="5808.html" target="_self">材质管理器</a></span> <span class="link_back"><a href="5812.html" target="_self">着色器</a></span> <span class="link_back"><a href="5834.html" target="_self">通道着色器</a></span> <span class="link_back"><a href="XAMBIENTOCCLUSION.html" target="_self">环境吸收着色器</a></span>

<div class="in-lite-page in-prime-page in-visualize-page in-broadcast-page in-studio-page in-bodypaint3d-page ">  <div class="page_only_body">
<div class="page_only_apps">             Function available in CINEMA 4D Prime, Visualize, Broadcast, Studio & BodyPaint 3D  </div>
<img class="icon" src="../icons/XAMBIENTOCCLUSION.png" alt="" height="24" width="24" border="1"> <span class="HL_atom"><a href="XAMBIENTOCCLUSION.html">环境吸收着色器</a> </span><p></p><a href="XAMBIENTOCCLUSION-OBASELIST.html" target=""><span class="c4d_group_navi">基本</span></a> <a href="XAMBIENTOCCLUSION-ID_SHADERPROPERTIES.html" target=""><span class="c4d_group_navi_self">着色器</span></a><!--NO_SEARCH_END--><p class="c4d_group"><span>着色器属性</span></p><p></p>
<p>在下面每个示例图像中，环境吸收着色器被应用在<span class="command">发光</span>通道中，这种情况下最好观察它的效果，虽然这并不适合照片级真实渲染。</p>
<p><a id="AMBIENTOCCLUSIONSHADER_GRADIENT" name="AMBIENTOCCLUSIONSHADER_GRADIENT"></a> <!--INDEX "8","颜色","AMBIENTOCCLUSIONSHADER_GRADIENT"--><span class="c4d_id">颜色</span></p>
<p><div class="image_full" style="max-width:800px"><img  src="../pics/004198.jpg"  ><span class="caption"></span></div></p>
<p>使用<span class="command">颜色</span>选项可以设置在曝光环境下环境吸收呈现的颜色渐变。通常，它只是一个黑白渐变，但是也可以使用其他颜色。</p>
<p>渐变的左端表示曝光最低的区域（球体底部），右端则表示曝光最高的区域。</p>
<p>注意，根据材质通道的不同，这些渐变可能会被当做灰度。</p>
<p><a id="AMBIENTOCCLUSIONSHADER_MINLENGTH" name="AMBIENTOCCLUSIONSHADER_MINLENGTH"></a> <!--INDEX "8","最小光线长度","AMBIENTOCCLUSIONSHADER_MINLENGTH"--><span class="c4d_id">最小光线长度</span> <span class="range">[0..+∞m]</span></p>
<p><div class="image_full" style="max-width:800px"><img  src="../pics/004199.jpg"  ><span class="caption"></span></div></p>
<p><span class="command">最小光线长度</span>决定了在<span class="command">颜色</span>中设置的渐变会在曝光和无曝光之间的区域如何被渲染。<span class="command">最小光线长度</span>数值与<span class="command">最大光线长度</span>数值越接近，渐变就越被<span class="command">推向</span>由最大光线长度设定的边缘。</p>
<p>这个数值其实不需要进行修改，让它保留默认值 <span class="command">0</span> 即可。</p>
<p><a id="AMBIENTOCCLUSIONSHADER_MAXLENGTH" name="AMBIENTOCCLUSIONSHADER_MAXLENGTH"></a> <!--INDEX "8","最大光线长度","AMBIENTOCCLUSIONSHADER_MAXLENGTH"--><span class="c4d_id">最大光线长度</span> <span class="range">[0..+∞m]</span></p>
<p><div class="image_full" style="max-width:800px"><img  src="../pics/004200.jpg"  ><span class="caption">从左到右：增加<span class="command">最大光线长度</span>的数值。</span></div></p>
<p>这个数值定义了表面之间<span class="command">相互看见</span>的距离。如果使用了较低的数值，墙面就不会<span class="command">看见</span>球体，图片会被渲染得比较明亮（左图）。几何体接触的地方，如地面和墙面、球体和地面，即使细小的光线也会落到表面上，也足以让那些区域变暗。</p>
<p>如果使用了较高的数值，物体之间可以相互<span class="command">看见</span>的距离会变大，这会产生更柔和、同调的阴影，同时也需要更多的渲染时间（参见<span class="command">采样精度</span>设置中的图示）。</p>
<p>通常，较低的值推荐用来实现上图中最左边的效果。</p>
<p><a id="AMBIENTOCCLUSIONSHADER_DISPERSION" name="AMBIENTOCCLUSIONSHADER_DISPERSION"></a> <!--INDEX "8","散射","AMBIENTOCCLUSIONSHADER_DISPERSION"--><span class="c4d_id">散射</span> <span class="range">[0..100%]</span></p>
<p><div class="image_full" style="max-width:800px"><img  src="../pics/004201.jpg"  ><span class="caption">从左到右：<span class="command">散射</span>数值分别诶： 0%、50% 、100%。</span></div></p>
<p>在每个环境吸收计算中，会从场景的虚拟半球中的每个点发射数道光线（<span class="command">采样</span>），这些采样会检查是否有几何体位于<span class="command">最大光线长度</span>中。<span class="command">散射</span>决定了在半球表面上会被纳入计算的采样范围。数值为 <span class="command">0%</span> 表示只有半球顶点（垂直方向上顶点）会被纳入计算；数值为 <span class="command">100%</span> 则表示整个半球都会被纳入计算。</p>
<p>要如何在实际中进行应用呢？把<span class="command">散射</span>想象成遮光罩，它的数值越低，关闭的遮光罩就越多，更多的采样区域就会被限制到垂直方向。</p>
<p>上图展示了这种效果：左图为 0%，只有垂直于每个点的区域才会被纳入计算；右图为 100%，会将所有球面采样都纳入计算，因此会产生真实的效果。</p>
<p><a id="AMBIENTOCCLUSIONSHADER_ACCURACY" name="AMBIENTOCCLUSIONSHADER_ACCURACY"></a> <!--INDEX "8","采样精度","AMBIENTOCCLUSIONSHADER_ACCURACY"--><span class="c4d_id">采样精度</span> <span class="range">[0..100%]</span></p>
<p><span class="command">采样精度</span>、<span class="command">最小取样值</span>和<span class="command">最大取样值</span>设置决定了环境吸收的质量。<span class="command">低</span> 质量伴随着有颗粒感的结果，但这不一定是坏事。实际上，在一些案例中，这可能是理想的结果，因为随机效果会产生很高的美感。</p>
<p>不过，如果你更想要均匀的、无瑕疵的过渡，那么应该选择较高质量的设置，这也会增加渲染时间。</p>
<p>使用之前提到的三项设置（尤其是<span class="command">采样精度</span>和<span class="command">最大取样值</span>）来提升质量。</p>
<p>基本的环境吸收算法十分复杂，因此我们不会在这里详细说明。不过可以告诉你的是，渲染环境吸收，采样是必须的。采样越多，渲染结果就越均匀（较少颗粒），也会需要更多的渲染时间。另一方面，采样越少，渲染时间就越短。</p>
<p>当然，可以对整个场景计算最大的采样值，这会花费非常、非常长的时间来计算。但是这没有必要，因为一个场景会包含很多低采样值就足够了的区域。</p>
<p>这就是<span class="command">最小取样值</span>和<span class="command">最大取样值</span>设置的作用。使用它们来具体控制场景中的关键和非关键区域（以及它们之间的插值）。</p>
<p><span class="command">采样精度</span>设置决定了分布的采样位置和数量，以此来实现可能的最佳效果。在关键区域，采样数量会使用<span class="command">最大取样值</span>。</p>
<p>因此，<span class="command">采样精度</span>设置对关键区域有最大的影响（因为在这些区域使用更高的值会有更多的采样），而对非关键区域的影响较少，这些地方会使用<span class="command">最小取样值</span>。</p>
<p><a id="hl_1" name="hl_1"></a><!--INDEX "3","示例：","hl_1"--><p><span class="HL_3">示例：</span></p>
<p>下面的场景是使用这项设置的各种数值来进行渲染的：</p>
<p><ul></p>
<p><li> 左列：最大取样值</li>
<li> 中列：采样精度</li>
<li> 右列：最大光线长度</li></ul><p></p>
<p>相应的渲染时间（每一列）被标注在每幅图像上，这样你就能知道改变这项设置会怎样影响渲染时间了。</p>
<p><div class="image_full" style="max-width:1440px"><img  src="../pics/004202.jpg"  ><span class="caption">所有图像中一致的是：<span class="command">最小光线长度 </span> <span class="command">0</span>，<span class="command">散射</span> <span class="command">100</span>，<span class="command">对比</span> <span class="command">10</span>。</span></div></p>
<p><a id="AMBIENTOCCLUSIONSHADER_MINSAMPLES" name="AMBIENTOCCLUSIONSHADER_MINSAMPLES"></a> <!--INDEX "8","最小取样值","AMBIENTOCCLUSIONSHADER_MINSAMPLES"--><span class="c4d_id">最小取样值</span> <span class="range">[1..10000]</span></p>
<p>使用这项设置来定义用在非关键区域的采样数量。</p>
<p><a id="AMBIENTOCCLUSIONSHADER_MAXSAMPLES" name="AMBIENTOCCLUSIONSHADER_MAXSAMPLES"></a> <!--INDEX "8","最大取样值","AMBIENTOCCLUSIONSHADER_MAXSAMPLES"--><span class="c4d_id">最大取样值</span> <span class="range">[1..10000]</span></p>
<p>使用这项设置来定义用在关键区域的采样数量。准确的采样数会根据<span class="command">采样精度</span>设置动态地分布。</p>
<p><a id="AMBIENTOCCLUSIONSHADER_CONTRAST" name="AMBIENTOCCLUSIONSHADER_CONTRAST"></a> <!--INDEX "8","对比","AMBIENTOCCLUSIONSHADER_CONTRAST"--><span class="c4d_id">对比</span> <span class="range">[-100..100%]</span></p>
<p>使用这项设置可以调整环境吸收效果的对比度，甚至可以使用负值！</p>
<p><a id="AMBIENTOCCLUSIONSHADER_ENVIRONMENT" name="AMBIENTOCCLUSIONSHADER_ENVIRONMENT"></a> <!--INDEX "8","使用天空环境","AMBIENTOCCLUSIONSHADER_ENVIRONMENT"--><span class="c4d_id">使用天空环境</span></p>
<p><div class="image_full" style="max-width:800px"><img  src="../pics/004203.jpg"  ><span class="caption">环境通道中的环境吸收着色器，启用使用天空环境，无光源。</span></div></p>
<p>如果在<span class="command">漫射</span>材质通道中使用了环境吸收，必须使用一个单独的光源（即使只是默认灯光）。</p>
<p>如果使用了天空对象作为<span class="command">照明</span>，环境吸收也可以在没有光源的情况下工作。如果启用了<span class="command">使用天空环境</span>，反射的天空颜色会叠加到最终的环境吸收图像上。要实现它，环境吸收必须放到<span class="command">环境</span>或<span class="command">发光</span>材质通道中。</p>
<p><p><div class="hint"><span class="HL_hint"></span><span class="command">环境吸收可见</span>选项也在合成标签中可以看到，使用它可以定义一个单独的天空对象用作环境吸收。</div></p>
<p><a id="AMBIENTOCCLUSIONSHADER_TRANSPARENCY" name="AMBIENTOCCLUSIONSHADER_TRANSPARENCY"></a> <!--INDEX "8","评估透明","AMBIENTOCCLUSIONSHADER_TRANSPARENCY"--><span class="c4d_id">评估透明</span></p>
<p><div class="image_full" style="max-width:800px"><img  src="../pics/004204.jpg"  ><span class="caption">启用<span class="command">评估透明</span>选项，从左到右减少透明度。</span></div></p>
<p>当启用这个选项时，会基于<span class="command">透明</span>或 <span class="command">Alpha</span> 材质通道分析透明度。在这个过程中会考虑到透明的程度：一个半透明球体仍然会产生一些环境吸收，即使启用了这个选项。</p>
<p><a id="NUREIGENBESCHATTUNG" name="NUREIGENBESCHATTUNG"></a></p>
<p><a id="AMBIENTOCCLUSIONSHADER_SELFTEST" name="AMBIENTOCCLUSIONSHADER_SELFTEST"></a> <!--INDEX "8","仅限本体投影","AMBIENTOCCLUSIONSHADER_SELFTEST"--><span class="c4d_id">仅限本体投影</span></p>
<p><div class="image_full" style="max-width:800px"><img  src="../pics/004205.jpg"  ><span class="caption">左图：未启用<span class="command">仅限本体投影</span>。右图：启用<span class="command">仅限本体投影</span>。地面和墙面都是分离的对象。</span></div></p>
<p>当启用这个选项时，分离的对象不会相互<span class="command">看见</span>，它们只会<span class="command">看见</span>自己。</p>
<p><a id="RELEASE_180_1" name="RELEASE_180_1"></a><p><div class="release_marker" align="left"><p class="release" align="right">RELEASE 18</p><p></p>
<p><a id="AMBIENTOCCLUSIONSHADER_REVERSE" name="AMBIENTOCCLUSIONSHADER_REVERSE"></a> <!--INDEX "8","反向","AMBIENTOCCLUSIONSHADER_REVERSE"--><span class="c4d_id">反向</span></p>
<p>如果启用了这个选项，环境吸收效果会反转。产生阴影的不是角落和孔洞，反而是突出的边角和顶点。想象一个围绕对象的球体：一个点看见的球体上的面越多，该点的环境吸收让它被渲染得越暗（默认行为）。</p>
<p>这有什么好处？</p>
<p>例如，如果曝光的面需要跟其他面不同的外观，将环境吸收着色器放到 Alpha 通道中，各自的材质就会只有在突出的边角和顶点处产生效果：</p>
<p><div class="image_full" style="max-width:1932px"><img  src="../pics/040335.jpg"  ><span class="caption">这个选项可以用来将效果限制显示到突出的边角上。</span></div></p>
<p>在上面两幅图中，你可以看到边角处的表面渲染得到了一个快速的<a href="XXMBSUBSURFACE.html" target="">次表面散射</a>近似效果。</p>
<p></p></div></p>
<p>

</p>
  </div>  </div>
</body>

</html>